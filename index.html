<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="https://public-frontend-cos.metadl.com/mgx/img/favicon.png" type="image/png">
  <title>Chemistry Practice Hub - Grade 12 Matric Prep</title>
  <meta name="description" content="Official Grade 12 Physical Sciences Chemistry practice website aligned with exam guidelines" />
  <meta name="author" content="MGX" />

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      color: #333;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .page {
      display: none;
      background: white;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      padding: 30px;
      margin: 20px 0;
    }

    .page.active {
      display: block;
    }

    .header {
      text-align: center;
      margin-bottom: 40px;
    }

    .header h1 {
      color: #4a5568;
      font-size: 2.5em;
      margin-bottom: 10px;
      font-weight: 700;
    }

    .header p {
      color: #718096;
      font-size: 1.1em;
    }

    .nav-buttons {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }

    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
      text-align: center;
    }

    .btn-primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }

    .btn-secondary {
      background: #e2e8f0;
      color: #4a5568;
    }

    .btn-secondary:hover {
      background: #cbd5e0;
    }

    .btn-back {
      background: #f7fafc;
      color: #4a5568;
      border: 2px solid #e2e8f0;
      margin-bottom: 20px;
    }

    .btn-back:hover {
      background: #edf2f7;
      border-color: #cbd5e0;
    }

    .btn-memo {
      background: #e6fffa;
      color: #2d3748;
      border: 2px solid #38b2ac;
      padding: 8px 16px;
      font-size: 14px;
      margin-top: 10px;
    }

    .btn-memo:hover {
      background: #b2f5ea;
      border-color: #319795;
    }

    .question-card {
      background: #f8fafc;
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 20px;
      border-left: 4px solid #667eea;
    }

    .question-number {
      font-weight: 700;
      color: #667eea;
      margin-bottom: 10px;
    }

    .question-text {
      font-size: 1.1em;
      margin-bottom: 15px;
      line-height: 1.6;
    }

    .options {
      display: grid;
      gap: 10px;
      margin-bottom: 15px;
    }

    .option {
      padding: 12px;
      background: white;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .option:hover {
      border-color: #667eea;
      background: #f0f4ff;
    }

    .option.selected {
      border-color: #667eea;
      background: #667eea;
      color: white;
    }

    .option.correct {
      border-color: #48bb78;
      background: #48bb78;
      color: white;
    }

    .option.incorrect {
      border-color: #f56565;
      background: #f56565;
      color: white;
    }

    .memo-section {
      margin-top: 20px;
      padding: 20px;
      background: linear-gradient(135deg, #e6fffa 0%, #f0fff4 100%);
      border-radius: 12px;
      border-left: 4px solid #38b2ac;
      display: none;
    }

    .memo-section.show {
      display: block;
      animation: slideDown 0.3s ease-out;
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .memo-title {
      color: #2d3748;
      font-weight: 700;
      font-size: 1.2em;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
    }

    .memo-content {
      color: #2d3748;
      line-height: 1.8;
      white-space: pre-line;
    }

    .guidelines-section {
      background: #f8fafc;
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 25px;
      border-left: 4px solid #667eea;
    }

    .guidelines-section h3 {
      color: #667eea;
      margin-bottom: 15px;
      font-size: 1.3em;
    }

    .guidelines-section h4 {
      color: #4a5568;
      margin: 15px 0 10px 0;
      font-size: 1.1em;
    }

    .guidelines-section ul {
      margin-left: 20px;
      color: #4a5568;
    }

    .guidelines-section li {
      margin-bottom: 8px;
    }

    .exam-info {
      background: linear-gradient(135deg, #fed7e2 0%, #fbb6ce 100%);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 25px;
      border-left: 4px solid #e53e3e;
    }

    .exam-info h3 {
      color: #742a2a;
      margin-bottom: 10px;
    }

    .exam-info p {
      color: #742a2a;
      font-weight: 500;
    }

    .timer {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255,255,255,0.95);
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      font-weight: 600;
      color: #4a5568;
    }

    .score {
      text-align: center;
      font-size: 1.2em;
      margin: 20px 0;
      padding: 15px;
      background: #e6fffa;
      border-radius: 10px;
      color: #234e52;
    }

    .filter-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin-bottom: 30px;
    }

    .filter-btn {
      padding: 8px 16px;
      background: #f7fafc;
      border: 2px solid #e2e8f0;
      border-radius: 20px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s ease;
    }

    .filter-btn:hover, .filter-btn.active {
      background: #667eea;
      color: white;
      border-color: #667eea;
    }

    .guidelines {
      background: #f0f4ff;
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 30px;
    }

    .guidelines h3 {
      color: #667eea;
      margin-bottom: 15px;
    }

    .guidelines ul {
      list-style-position: inside;
      color: #4a5568;
    }

    .guidelines li {
      margin-bottom: 8px;
    }

    .correct-answer {
      background: #f0fff4;
      border: 2px solid #48bb78;
      padding: 10px;
      border-radius: 8px;
      margin-top: 10px;
      font-weight: 600;
      color: #2f855a;
    }

    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }

      .page {
        padding: 20px;
      }

      .header h1 {
        font-size: 2em;
      }

      .nav-buttons {
        flex-direction: column;
        align-items: center;
      }

      .btn {
        width: 100%;
        max-width: 300px;
      }

      .timer {
        position: static;
        margin-bottom: 20px;
        text-align: center;
      }
    }

    .hidden {
      display: none !important;
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- Main Menu Page -->
    <div id="main-page" class="page active">
      <div class="header">
        <h1>üß™ Chemistry Practice Hub</h1>
        <p>Official Grade 12 Physical Sciences (Chemistry - Paper 2) Exam Preparation</p>
      </div>

      <div class="exam-info">
        <h3>üìã Official Exam Information</h3>
        <p><strong>Subject:</strong> Physical Sciences - Chemistry Paper 2</p>
        <p><strong>Grade:</strong> 12 (Matric Final Exam)</p>
        <p><strong>Aligned with:</strong> Official Exam Guidelines</p>
      </div>

      <div class="guidelines">
        <h3>üìö Study Guidelines for Mpumi</h3>
        <ul>
          <li>Focus on the 9 main exam topics as per official guidelines</li>
          <li>Use the "Show Memo" button to see step-by-step solutions</li>
          <li>Practice calculations using the correct formulas (n = m/M, C = n/V)</li>
          <li>Master equation balancing and chemical representations</li>
          <li>Understand intermolecular forces and their effects on properties</li>
          <li>Practice organic chemistry naming and reactions</li>
        </ul>
      </div>

      <div class="nav-buttons">
        <button class="btn btn-primary" onclick="showPage('guidelines-page')">üìñ Final Exam Guidelines</button>
        <button class="btn btn-primary" onclick="showPage('practice-page')">üìö Practice Questions</button>
        <button class="btn btn-primary" onclick="showPage('mcq-page')">‚úÖ MCQ Only</button>
        <button class="btn btn-primary" onclick="showPage('mock-exam-page')">‚è∞ Mock Exam</button>
      </div>
    </div>

    <!-- Final Exam Guidelines Page -->
    <div id="guidelines-page" class="page">
      <button class="btn btn-back" onclick="showPage('main-page')">‚Üê Back to Main</button>
      
      <div class="header">
        <h1>üìñ Official Final Exam Guidelines</h1>
        <p>Grade 12 Physical Sciences - Chemistry Paper 2</p>
      </div>

      <div class="exam-info">
        <h3>üéØ Exam Focus Areas</h3>
        <p>These are the 9 main topics Mpumi must master for the final Chemistry exam, as per official guidelines.</p>
      </div>

      <div class="guidelines-section">
        <h3>1. Representing Chemical Change</h3>
        <h4>Key Focus Areas:</h4>
        <ul>
          <li>Writing and balancing chemical equations</li>
          <li>Conservation of atoms and mass</li>
          <li>Use of state symbols: (s), (l), (g), (aq)</li>
          <li>Identifying reactants and products</li>
        </ul>
      </div>

      <div class="guidelines-section">
        <h3>2. Quantitative Aspects of Chemical Change</h3>
        <h4>Essential Calculations:</h4>
        <ul>
          <li><strong>Mole calculations:</strong> n = m/M (moles = mass/molar mass)</li>
          <li><strong>Concentration:</strong> C = n/V (concentration = moles/volume)</li>
          <li><strong>Gas laws:</strong> PV = nRT, combined gas law</li>
          <li><strong>Molar volume:</strong> 22.4 dm¬≥ at STP</li>
          <li><strong>Limiting reagents:</strong> identifying and calculating</li>
          <li><strong>Percentage yield and purity calculations</strong></li>
        </ul>
      </div>

      <div class="guidelines-section">
        <h3>3. Intermolecular Forces (IMFs)</h3>
        <h4>Types of Forces:</h4>
        <ul>
          <li><strong>London forces:</strong> weakest, all molecules</li>
          <li><strong>Dipole-dipole forces:</strong> polar molecules</li>
          <li><strong>Hydrogen bonding:</strong> H bonded to N, O, or F</li>
        </ul>
        <h4>Effects on Physical Properties:</h4>
        <ul>
          <li>Boiling point and melting point</li>
          <li>Vapour pressure</li>
          <li>Solubility ("like dissolves like")</li>
        </ul>
      </div>

      <div class="guidelines-section">
        <h3>4. Organic Chemistry</h3>
        <h4>Must Know:</h4>
        <ul>
          <li><strong>Functional groups:</strong> -OH, -COOH, -CHO, -CO-, -NH‚ÇÇ</li>
          <li><strong>Homologous series:</strong> alkanes, alkenes, alcohols, etc.</li>
          <li><strong>IUPAC naming:</strong> systematic naming rules</li>
          <li><strong>Isomers:</strong> structural and functional isomers</li>
          <li><strong>Physical properties:</strong> boiling points, solubility</li>
          <li><strong>Combustion reactions</strong></li>
        </ul>
      </div>

      <div class="guidelines-section">
        <h3>5. Organic Reactions</h3>
        <h4>Reaction Types:</h4>
        <ul>
          <li><strong>Substitution:</strong> halogenation of alkanes</li>
          <li><strong>Addition:</strong> hydrogenation, halogenation of alkenes</li>
          <li><strong>Elimination:</strong> dehydration of alcohols</li>
          <li><strong>Combustion:</strong> complete and incomplete</li>
          <li><strong>Esterification:</strong> alcohol + carboxylic acid</li>
        </ul>
        <h4>Reaction Conditions:</h4>
        <ul>
          <li>Catalysts (Pt, Ni, H‚ÇÇSO‚ÇÑ)</li>
          <li>Heat and temperature requirements</li>
          <li>UV light for substitution</li>
          <li>Reflux conditions</li>
        </ul>
      </div>

      <div class="guidelines-section">
        <h3>6. Energy and Heats of Reaction</h3>
        <h4>Key Concepts:</h4>
        <ul>
          <li><strong>Endothermic reactions:</strong> ŒîH &gt; 0, absorb energy</li>
          <li><strong>Exothermic reactions:</strong> ŒîH &lt; 0, release energy</li>
          <li><strong>Activation energy:</strong> minimum energy for reaction</li>
          <li><strong>Energy profile diagrams:</strong> reactants ‚Üí products</li>
          <li><strong>Enthalpy calculations:</strong> using bond enthalpies</li>
          <li><strong>ŒîH = bonds broken - bonds formed</strong></li>
        </ul>
      </div>

      <div class="guidelines-section">
        <h3>7. Rates of Reaction</h3>
        <h4>Collision Theory:</h4>
        <ul>
          <li>Successful collisions require correct orientation and sufficient energy</li>
          <li>Rate = frequency of successful collisions</li>
        </ul>
        <h4>Factors Affecting Rate:</h4>
        <ul>
          <li><strong>Temperature:</strong> higher T ‚Üí faster rate</li>
          <li><strong>Concentration:</strong> higher [reactants] ‚Üí faster rate</li>
          <li><strong>Surface area:</strong> smaller particles ‚Üí faster rate</li>
          <li><strong>Catalysts:</strong> lower activation energy</li>
        </ul>
        <h4>Graph Interpretation:</h4>
        <ul>
          <li>Concentration vs time graphs</li>
          <li>Rate vs time graphs</li>
        </ul>
      </div>

      <div class="guidelines-section">
        <h3>8. Chemical Equilibrium</h3>
        <h4>Key Principles:</h4>
        <ul>
          <li><strong>Dynamic equilibrium:</strong> forward rate = reverse rate</li>
          <li><strong>Le Ch√¢telier's principle:</strong> system responds to stress</li>
        </ul>
        <h4>Factors Affecting Equilibrium:</h4>
        <ul>
          <li><strong>Concentration:</strong> adding/removing reactants/products</li>
          <li><strong>Temperature:</strong> favors endothermic/exothermic direction</li>
          <li><strong>Pressure:</strong> favors side with fewer gas molecules</li>
        </ul>
        <h4>Calculations:</h4>
        <ul>
          <li><strong>Equilibrium constant (Kc):</strong> Kc = [products]/[reactants]</li>
          <li><strong>ICE tables:</strong> Initial, Change, Equilibrium</li>
        </ul>
      </div>

      <div class="guidelines-section">
        <h3>9. Acids and Bases</h3>
        <h4>Definitions:</h4>
        <ul>
          <li><strong>Br√∏nsted-Lowry:</strong> acid = proton donor, base = proton acceptor</li>
          <li><strong>Conjugate pairs:</strong> acid-base relationships</li>
          <li><strong>Strong vs weak:</strong> degree of dissociation</li>
        </ul>
        <h4>Calculations:</h4>
        <ul>
          <li><strong>pH calculations:</strong> pH = -log[H‚Å∫]</li>
          <li><strong>Kw = [H‚Å∫][OH‚Åª] = 1√ó10‚Åª¬π‚Å¥</strong></li>
          <li><strong>Hydrolysis of salts</strong></li>
          <li><strong>Titrations and indicators</strong></li>
        </ul>
      </div>

      <div class="guidelines-section">
        <h3>10. Electrochemistry</h3>
        <h4>Cell Types:</h4>
        <ul>
          <li><strong>Galvanic cells:</strong> spontaneous, produce electricity</li>
          <li><strong>Electrolytic cells:</strong> non-spontaneous, require electricity</li>
        </ul>
        <h4>Key Concepts:</h4>
        <ul>
          <li><strong>Anode:</strong> oxidation occurs, electrons produced</li>
          <li><strong>Cathode:</strong> reduction occurs, electrons consumed</li>
          <li><strong>Half-reactions:</strong> oxidation and reduction separately</li>
          <li><strong>Electron flow:</strong> anode ‚Üí cathode (external circuit)</li>
        </ul>
        <h4>Calculations:</h4>
        <ul>
          <li><strong>Standard electrode potentials (E¬∞)</strong></li>
          <li><strong>E¬∞cell = E¬∞cathode - E¬∞anode</strong></li>
          <li><strong>Industrial applications:</strong> electrolysis, electroplating</li>
        </ul>
      </div>

      <div class="exam-info">
        <h3>üí° Exam Success Tips for Mpumi</h3>
        <p><strong>1.</strong> Master the formulas: n = m/M, C = n/V, PV = nRT</p>
        <p><strong>2.</strong> Practice balancing equations daily</p>
        <p><strong>3.</strong> Understand Le Ch√¢telier's principle applications</p>
        <p><strong>4.</strong> Know all functional groups and their properties</p>
        <p><strong>5.</strong> Practice pH calculations and titration problems</p>
        <p><strong>6.</strong> Understand electrochemistry cell diagrams</p>
      </div>
    </div>

    <!-- Practice Questions Page -->
    <div id="practice-page" class="page">
      <button class="btn btn-back" onclick="showPage('main-page')">‚Üê Back to Main</button>
      
      <div class="header">
        <h1>üìö Practice Questions</h1>
        <p>Aligned with official exam guidelines - Mixed question types with detailed explanations</p>
      </div>

      <div class="filter-buttons">
        <button class="filter-btn active" onclick="filterQuestions('all')">All Topics</button>
        <button class="filter-btn" onclick="filterQuestions('representing-change')">Representing Change</button>
        <button class="filter-btn" onclick="filterQuestions('quantitative')">Quantitative Aspects</button>
        <button class="filter-btn" onclick="filterQuestions('imf')">Intermolecular Forces</button>
        <button class="filter-btn" onclick="filterQuestions('organic-chemistry')">Organic Chemistry</button>
        <button class="filter-btn" onclick="filterQuestions('organic-reactions')">Organic Reactions</button>
        <button class="filter-btn" onclick="filterQuestions('energy-heats')">Energy & Heats</button>
        <button class="filter-btn" onclick="filterQuestions('reaction-rates')">Reaction Rates</button>
        <button class="filter-btn" onclick="filterQuestions('equilibrium')">Chemical Equilibrium</button>
        <button class="filter-btn" onclick="filterQuestions('acids-bases')">Acids & Bases</button>
        <button class="filter-btn" onclick="filterQuestions('electrochemistry')">Electrochemistry</button>
      </div>

      <div id="practice-questions"></div>
      <div class="score" id="practice-score" style="display: none;"></div>
    </div>

    <!-- MCQ Only Page -->
    <div id="mcq-page" class="page">
      <button class="btn btn-back" onclick="showPage('main-page')">‚Üê Back to Main</button>
      
      <div class="header">
        <h1>‚úÖ Multiple Choice Questions</h1>
        <p>Quick MCQ practice with instant feedback & explanations - Exam aligned</p>
      </div>

      <div class="filter-buttons">
        <button class="filter-btn active" onclick="filterMCQ('all')">All Topics</button>
        <button class="filter-btn" onclick="filterMCQ('representing-change')">Representing Change</button>
        <button class="filter-btn" onclick="filterMCQ('quantitative')">Quantitative Aspects</button>
        <button class="filter-btn" onclick="filterMCQ('imf')">Intermolecular Forces</button>
        <button class="filter-btn" onclick="filterMCQ('organic-chemistry')">Organic Chemistry</button>
        <button class="filter-btn" onclick="filterMCQ('organic-reactions')">Organic Reactions</button>
        <button class="filter-btn" onclick="filterMCQ('energy-heats')">Energy & Heats</button>
        <button class="filter-btn" onclick="filterMCQ('reaction-rates')">Reaction Rates</button>
        <button class="filter-btn" onclick="filterMCQ('equilibrium')">Chemical Equilibrium</button>
        <button class="filter-btn" onclick="filterMCQ('acids-bases')">Acids & Bases</button>
        <button class="filter-btn" onclick="filterMCQ('electrochemistry')">Electrochemistry</button>
      </div>

      <div style="text-align: center; margin-bottom: 20px;">
        <button class="btn btn-secondary" onclick="shuffleMCQ()">üîÄ Shuffle Questions</button>
        <button class="btn btn-secondary" onclick="loadMoreMCQ()">‚ûï Load More (5)</button>
      </div>

      <div id="mcq-questions"></div>
      <div class="score" id="mcq-score" style="display: none;"></div>
    </div>

    <!-- Mock Exam Page -->
    <div id="mock-exam-page" class="page">
      <button class="btn btn-back" onclick="showPage('main-page')">‚Üê Back to Main</button>
      
      <div class="header">
        <h1>‚è∞ Mock Examination</h1>
        <p>Timed practice exam (180 minutes) - Real Matric conditions with official topics</p>
      </div>

      <div style="text-align: center; margin-bottom: 30px;">
        <button class="btn btn-primary" onclick="startMockExam()">üöÄ Start Mock Exam</button>
      </div>

      <div id="exam-questions"></div>
      <div class="score" id="exam-score" style="display: none;"></div>
    </div>

    <!-- Timer Display -->
    <div id="timer" class="timer" style="display: none;">
      Time: <span id="time-display">180:00</span>
    </div>
  </div>

  <script>
    // Global variables
    let currentQuestions = [];
    let currentAnswers = {};
    let examTimer = null;
    let currentFilter = 'all';
    let mcqDisplayCount = 5;

    // Navigation function
    function showPage(pageId) {
      // Hide all pages
      document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active');
      });
      
      // Show selected page
      document.getElementById(pageId).classList.add('active');
      
      // Reset any running timers when going back to main
      if (pageId === 'main-page' && examTimer) {
        clearInterval(examTimer);
        examTimer = null;
        document.getElementById('timer').style.display = 'none';
      }
      
      // Load content based on page
      if (pageId === 'practice-page') {
        loadPracticeQuestions();
      } else if (pageId === 'mcq-page') {
        loadMCQQuestions();
      }
    }

    // Enhanced Question Bank aligned with official exam guidelines
    const questionBank = {
      mcq: [
        {
          id: 1,
          topic: 'representing-change',
          question: "Balance the following equation: C‚ÇÉH‚Çà + O‚ÇÇ ‚Üí CO‚ÇÇ + H‚ÇÇO. What is the coefficient of O‚ÇÇ?",
          options: ["3", "4", "5", "6"],
          correct: 2,
          explanation: `STEP-BY-STEP SOLUTION:

STEP 1: Write the unbalanced equation
C‚ÇÉH‚Çà + O‚ÇÇ ‚Üí CO‚ÇÇ + H‚ÇÇO

STEP 2: Count atoms on each side
Left: C = 3, H = 8, O = 2
Right: C = 1, H = 2, O = 3

STEP 3: Balance carbon first
C‚ÇÉH‚Çà + O‚ÇÇ ‚Üí 3CO‚ÇÇ + H‚ÇÇO
(3 carbons on left, need 3 CO‚ÇÇ on right)

STEP 4: Balance hydrogen
C‚ÇÉH‚Çà + O‚ÇÇ ‚Üí 3CO‚ÇÇ + 4H‚ÇÇO
(8 hydrogens on left, need 4 H‚ÇÇO on right)

STEP 5: Balance oxygen
Right side: (3 √ó 2) + (4 √ó 1) = 6 + 4 = 10 oxygen atoms
Left side needs: 10 oxygen atoms = 5 O‚ÇÇ molecules

STEP 6: Final balanced equation
C‚ÇÉH‚Çà + 5O‚ÇÇ ‚Üí 3CO‚ÇÇ + 4H‚ÇÇO

ANSWER: 5`
        },
        {
          id: 2,
          topic: 'quantitative',
          question: "Calculate the number of moles in 44 g of CO‚ÇÇ. (Molar mass of CO‚ÇÇ = 44 g/mol)",
          options: ["0.5 mol", "1.0 mol", "2.0 mol", "44 mol"],
          correct: 1,
          explanation: `STEP-BY-STEP SOLUTION:

STEP 1: Identify the given information
‚Ä¢ Mass of CO‚ÇÇ = 44 g
‚Ä¢ Molar mass of CO‚ÇÇ = 44 g/mol
‚Ä¢ Find: number of moles (n)

STEP 2: Use the mole formula
n = m/M
Where: n = moles, m = mass, M = molar mass

STEP 3: Substitute the values
n = 44 g √∑ 44 g/mol
n = 1.0 mol

STEP 4: Check units
g √∑ (g/mol) = g √ó (mol/g) = mol ‚úì

ANSWER: 1.0 mol`
        },
        {
          id: 3,
          topic: 'imf',
          question: "Which compound has the highest boiling point due to hydrogen bonding?",
          options: ["CH‚ÇÑ", "NH‚ÇÉ", "H‚ÇÇO", "HF"],
          correct: 2,
          explanation: `STEP-BY-STEP SOLUTION:

STEP 1: Identify hydrogen bonding requirements
‚Ä¢ H must be bonded to N, O, or F
‚Ä¢ These are highly electronegative atoms

STEP 2: Check each compound
A) CH‚ÇÑ: No N, O, or F ‚Üí No hydrogen bonding
B) NH‚ÇÉ: H bonded to N ‚Üí Hydrogen bonding ‚úì
C) H‚ÇÇO: H bonded to O ‚Üí Hydrogen bonding ‚úì
D) HF: H bonded to F ‚Üí Hydrogen bonding ‚úì

STEP 3: Compare hydrogen bonding strength
‚Ä¢ Number of H-bonds per molecule:
  - NH‚ÇÉ: 1 H-bond per molecule
  - H‚ÇÇO: 2 H-bonds per molecule
  - HF: 1 H-bond per molecule

STEP 4: Consider molecular structure
‚Ä¢ H‚ÇÇO can form extensive H-bond networks
‚Ä¢ Each water molecule can form 4 H-bonds (2 as donor, 2 as acceptor)

STEP 5: Boiling point order
HF < NH‚ÇÉ < H‚ÇÇO
(Due to extent of hydrogen bonding)

ANSWER: H‚ÇÇO`
        },
        {
          id: 4,
          topic: 'organic-chemistry',
          question: "What is the IUPAC name for CH‚ÇÉCH‚ÇÇCH(OH)CH‚ÇÉ?",
          options: ["1-butanol", "2-butanol", "2-methyl-1-propanol", "butanol"],
          correct: 1,
          explanation: `STEP-BY-STEP SOLUTION:

STEP 1: Identify the structure
CH‚ÇÉCH‚ÇÇCH(OH)CH‚ÇÉ
‚Ä¢ 4 carbon chain with -OH group

STEP 2: Find the longest carbon chain
C-C-C-C = 4 carbons
‚Ä¢ 4 carbons = "but" prefix

STEP 3: Number the carbon chain
Give -OH group the lowest number:
1. CH‚ÇÉ-CH‚ÇÇ-CH(OH)-CH‚ÇÉ (OH on carbon 2)
2. CH‚ÇÉ-CH(OH)-CH‚ÇÇ-CH‚ÇÉ (OH on carbon 3)

Choose option 1: OH on carbon 2

STEP 4: Apply IUPAC naming rules
‚Ä¢ Base name: butan (4 carbons)
‚Ä¢ Functional group: -ol (alcohol)
‚Ä¢ Position: 2 (OH on carbon 2)
‚Ä¢ Full name: butan-2-ol or 2-butanol

ANSWER: 2-butanol`
        },
        {
          id: 5,
          topic: 'organic-reactions',
          question: "What type of reaction occurs when ethene (C‚ÇÇH‚ÇÑ) reacts with hydrogen gas in the presence of a nickel catalyst?",
          options: ["Substitution", "Addition", "Elimination", "Combustion"],
          correct: 1,
          explanation: `STEP-BY-STEP SOLUTION:

STEP 1: Write the reaction equation
C‚ÇÇH‚ÇÑ + H‚ÇÇ ‚Üí C‚ÇÇH‚ÇÜ
(ethene + hydrogen ‚Üí ethane)

STEP 2: Identify what happens
‚Ä¢ Ethene has a C=C double bond
‚Ä¢ Hydrogen atoms add across the double bond
‚Ä¢ Double bond becomes single bond

STEP 3: Analyze the reaction type
‚Ä¢ Starting material: alkene (C=C)
‚Ä¢ Product: alkane (C-C)
‚Ä¢ Atoms are ADDED to the molecule
‚Ä¢ No atoms are removed or substituted

STEP 4: Classify the reaction
This is ADDITION because:
‚Ä¢ Hydrogen atoms add to the double bond
‚Ä¢ No leaving groups
‚Ä¢ Unsaturated ‚Üí saturated compound

STEP 5: Reaction conditions
‚Ä¢ Catalyst: Nickel (Ni)
‚Ä¢ Process: Hydrogenation
‚Ä¢ Industrial use: Making margarine from oils

ANSWER: Addition`
        },
        {
          id: 6,
          topic: 'energy-heats',
          question: "In an exothermic reaction, the enthalpy change (ŒîH) is:",
          options: ["Positive", "Negative", "Zero", "Variable"],
          correct: 1,
          explanation: `STEP-BY-STEP SOLUTION:

STEP 1: Define exothermic reaction
‚Ä¢ "Exo" = out, "thermic" = heat
‚Ä¢ Heat is released to the surroundings
‚Ä¢ System loses energy

STEP 2: Understand enthalpy change (ŒîH)
ŒîH = H(products) - H(reactants)
‚Ä¢ If products have less energy than reactants: ŒîH < 0
‚Ä¢ If products have more energy than reactants: ŒîH > 0

STEP 3: Energy in exothermic reactions
‚Ä¢ Energy is released (given out)
‚Ä¢ Products are more stable (lower energy)
‚Ä¢ H(products) < H(reactants)

STEP 4: Calculate ŒîH sign
ŒîH = H(products) - H(reactants)
Since H(products) < H(reactants):
ŒîH = (smaller number) - (larger number) = NEGATIVE

STEP 5: Examples of exothermic reactions
‚Ä¢ Combustion: C + O‚ÇÇ ‚Üí CO‚ÇÇ (ŒîH = -394 kJ/mol)
‚Ä¢ Neutralization: HCl + NaOH ‚Üí NaCl + H‚ÇÇO

ANSWER: Negative`
        },
        {
          id: 7,
          topic: 'reaction-rates',
          question: "Which factor will increase the rate of reaction between zinc and hydrochloric acid?",
          options: ["Using zinc powder instead of zinc granules", "Decreasing temperature", "Decreasing HCl concentration", "Adding water"],
          correct: 0,
          explanation: `STEP-BY-STEP SOLUTION:

STEP 1: Identify the reaction
Zn + 2HCl ‚Üí ZnCl‚ÇÇ + H‚ÇÇ
‚Ä¢ Heterogeneous reaction (solid + liquid)

STEP 2: Apply collision theory
‚Ä¢ Rate depends on frequency of successful collisions
‚Ä¢ More collisions = faster reaction

STEP 3: Analyze each option

A) Zinc powder vs zinc granules:
‚Ä¢ Powder has much larger surface area
‚Ä¢ More Zn atoms exposed to HCl
‚Ä¢ More collision sites available
‚Ä¢ INCREASES reaction rate ‚úì

B) Decreasing temperature:
‚Ä¢ Lower kinetic energy of particles
‚Ä¢ Fewer successful collisions
‚Ä¢ DECREASES reaction rate ‚úó

C) Decreasing HCl concentration:
‚Ä¢ Fewer HCl molecules per unit volume
‚Ä¢ Fewer collisions with Zn
‚Ä¢ DECREASES reaction rate ‚úó

D) Adding water:
‚Ä¢ Dilutes the HCl solution
‚Ä¢ Lower concentration of HCl
‚Ä¢ DECREASES reaction rate ‚úó

STEP 4: Surface area effect
‚Ä¢ Smaller particles = larger surface area
‚Ä¢ More contact between reactants
‚Ä¢ Faster reaction rate

ANSWER: Using zinc powder instead of zinc granules`
        },
        {
          id: 8,
          topic: 'equilibrium',
          question: "For the reaction N‚ÇÇ(g) + 3H‚ÇÇ(g) ‚áå 2NH‚ÇÉ(g) + heat, increasing temperature will:",
          options: ["Shift equilibrium to the right", "Shift equilibrium to the left", "Not affect equilibrium", "Stop the reaction"],
          correct: 1,
          explanation: `STEP-BY-STEP SOLUTION:

STEP 1: Identify reaction characteristics
N‚ÇÇ(g) + 3H‚ÇÇ(g) ‚áå 2NH‚ÇÉ(g) + heat
‚Ä¢ Heat is produced (exothermic reaction)
‚Ä¢ ŒîH < 0 (negative)

STEP 2: Apply Le Ch√¢telier's Principle
‚Ä¢ When system is disturbed, it shifts to counteract the disturbance
‚Ä¢ Increasing temperature = adding heat to system

STEP 3: Rewrite equation showing heat
N‚ÇÇ(g) + 3H‚ÇÇ(g) ‚áå 2NH‚ÇÉ(g) + HEAT
‚Ä¢ Heat appears on the product side
‚Ä¢ Heat acts like a "product"

STEP 4: Effect of adding heat (increasing temperature)
‚Ä¢ System wants to remove excess heat
‚Ä¢ Shifts to consume heat
‚Ä¢ Shifts AWAY from the side producing heat
‚Ä¢ Shifts LEFT (toward reactants)

STEP 5: Result of temperature increase
‚Ä¢ More N‚ÇÇ and H‚ÇÇ formed
‚Ä¢ Less NH‚ÇÉ formed
‚Ä¢ Equilibrium position shifts left

STEP 6: General rule
‚Ä¢ Exothermic reaction + ‚ÜëTemperature ‚Üí shifts left
‚Ä¢ Endothermic reaction + ‚ÜëTemperature ‚Üí shifts right

ANSWER: Shift equilibrium to the left`
        },
        {
          id: 9,
          topic: 'acids-bases',
          question: "What is the pH of a 0.001 M HCl solution?",
          options: ["1", "2", "3", "11"],
          correct: 2,
          explanation: `STEP-BY-STEP SOLUTION:

STEP 1: Identify the acid type
‚Ä¢ HCl = hydrochloric acid
‚Ä¢ Strong acid (completely dissociates)

STEP 2: Write dissociation equation
HCl(aq) ‚Üí H‚Å∫(aq) + Cl‚Åª(aq)
‚Ä¢ 100% dissociation for strong acids

STEP 3: Find [H‚Å∫] concentration
‚Ä¢ [HCl] = 0.001 M = 1 √ó 10‚Åª¬≥ M
‚Ä¢ Since complete dissociation: [H‚Å∫] = [HCl]
‚Ä¢ [H‚Å∫] = 1 √ó 10‚Åª¬≥ M

STEP 4: Apply pH formula
pH = -log[H‚Å∫]
pH = -log(1 √ó 10‚Åª¬≥)
pH = -log(10‚Åª¬≥)
pH = -(-3)
pH = 3

STEP 5: Verify the answer
‚Ä¢ pH < 7 = acidic solution ‚úì
‚Ä¢ Strong acid = low pH ‚úì
‚Ä¢ 0.001 M = 10‚Åª¬≥ M ‚Üí pH = 3 ‚úì

ANSWER: 3`
        },
        {
          id: 10,
          topic: 'electrochemistry',
          question: "In a galvanic cell, which electrode is the anode?",
          options: ["The electrode where reduction occurs", "The electrode where oxidation occurs", "The positive electrode", "The electrode that gains electrons"],
          correct: 1,
          explanation: `STEP-BY-STEP SOLUTION:

STEP 1: Define key terms
‚Ä¢ Anode: electrode where oxidation occurs
‚Ä¢ Cathode: electrode where reduction occurs
‚Ä¢ Oxidation: loss of electrons
‚Ä¢ Reduction: gain of electrons

STEP 2: Remember memory aids
‚Ä¢ "AN OX" = ANode = OXidation
‚Ä¢ "RED CAT" = REDuction = CAThode
‚Ä¢ "OIL RIG" = Oxidation Involves Loss, Reduction Involves Gain

STEP 3: Analyze each option

A) "Electrode where reduction occurs"
‚Ä¢ This describes the CATHODE, not anode ‚úó

B) "Electrode where oxidation occurs"
‚Ä¢ This is the definition of ANODE ‚úì

C) "The positive electrode"
‚Ä¢ In galvanic cells, anode is actually NEGATIVE
‚Ä¢ In electrolytic cells, anode is positive ‚úó

D) "Electrode that gains electrons"
‚Ä¢ Gaining electrons = reduction = CATHODE ‚úó

STEP 4: Galvanic cell specifics
‚Ä¢ Anode: oxidation occurs, electrons produced
‚Ä¢ Cathode: reduction occurs, electrons consumed
‚Ä¢ Electrons flow: anode ‚Üí cathode (external circuit)

STEP 5: Example
Zn|Zn¬≤‚Å∫||Cu¬≤‚Å∫|Cu cell:
‚Ä¢ Anode: Zn ‚Üí Zn¬≤‚Å∫ + 2e‚Åª (oxidation)
‚Ä¢ Cathode: Cu¬≤‚Å∫ + 2e‚Åª ‚Üí Cu (reduction)

ANSWER: The electrode where oxidation occurs`
        }
      ],
      longQuestions: [
        {
          id: 101,
          topic: 'quantitative',
          question: "A student reacts 10.0 g of calcium carbonate (CaCO‚ÇÉ) with excess hydrochloric acid according to the equation: CaCO‚ÇÉ + 2HCl ‚Üí CaCl‚ÇÇ + H‚ÇÇO + CO‚ÇÇ. Calculate: (a) the number of moles of CaCO‚ÇÉ used, (b) the volume of CO‚ÇÇ gas produced at STP. (Molar mass of CaCO‚ÇÉ = 100 g/mol)",
          points: 12,
          markingScheme: [
            "Balanced equation (2 marks)",
            "Moles of CaCO‚ÇÉ calculation (3 marks)",
            "Mole ratio analysis (2 marks)",
            "Volume of CO‚ÇÇ at STP calculation (4 marks)",
            "Final answer with units (1 mark)"
          ],
          stepByStepAnswer: `COMPREHENSIVE STEP-BY-STEP SOLUTION:

PART A: MOLES OF CaCO‚ÇÉ (5 marks)

STEP 1: Write the balanced equation (2 marks)
CaCO‚ÇÉ + 2HCl ‚Üí CaCl‚ÇÇ + H‚ÇÇO + CO‚ÇÇ
‚Ä¢ Check: Ca(1), C(1), O(4), H(2), Cl(2) on both sides ‚úì

STEP 2: Identify given information
‚Ä¢ Mass of CaCO‚ÇÉ = 10.0 g
‚Ä¢ Molar mass of CaCO‚ÇÉ = 100 g/mol
‚Ä¢ Need to find: moles of CaCO‚ÇÉ

STEP 3: Apply mole formula (3 marks)
n = m/M
Where: n = moles, m = mass, M = molar mass

n(CaCO‚ÇÉ) = 10.0 g √∑ 100 g/mol = 0.10 mol

PART B: VOLUME OF CO‚ÇÇ AT STP (7 marks)

STEP 4: Analyze mole ratio (2 marks)
From balanced equation: CaCO‚ÇÉ : CO‚ÇÇ = 1 : 1
‚Ä¢ 1 mole CaCO‚ÇÉ produces 1 mole CO‚ÇÇ
‚Ä¢ Therefore: n(CO‚ÇÇ) = n(CaCO‚ÇÉ) = 0.10 mol

STEP 5: Apply molar volume at STP (4 marks)
At STP: 1 mole of any gas = 22.4 dm¬≥
V = n √ó Vm
Where: V = volume, n = moles, Vm = molar volume

V(CO‚ÇÇ) = 0.10 mol √ó 22.4 dm¬≥/mol = 2.24 dm¬≥

STEP 6: Final answers with units (1 mark)
(a) Moles of CaCO‚ÇÉ = 0.10 mol
(b) Volume of CO‚ÇÇ at STP = 2.24 dm¬≥

CHECKING OUR WORK:
‚Ä¢ Units are correct: g √∑ (g/mol) = mol ‚úì
‚Ä¢ Mole ratio respected: 1:1 ‚úì
‚Ä¢ STP conditions used correctly ‚úì`
        },
        {
          id: 102,
          topic: 'equilibrium',
          question: "For the equilibrium system: 2SO‚ÇÇ(g) + O‚ÇÇ(g) ‚áå 2SO‚ÇÉ(g) + 196 kJ. Explain how each of the following changes will affect the equilibrium position: (a) increasing temperature, (b) increasing pressure, (c) adding a catalyst, (d) removing SO‚ÇÉ from the system.",
          points: 16,
          markingScheme: [
            "Effect of temperature increase (4 marks)",
            "Effect of pressure increase (4 marks)",
            "Effect of adding catalyst (4 marks)",
            "Effect of removing SO‚ÇÉ (4 marks)"
          ],
          stepByStepAnswer: `COMPREHENSIVE EQUILIBRIUM ANALYSIS:

GIVEN REACTION: 2SO‚ÇÇ(g) + O‚ÇÇ(g) ‚áå 2SO‚ÇÉ(g) + 196 kJ

PART A: EFFECT OF INCREASING TEMPERATURE (4 marks)

STEP 1: Identify reaction type
‚Ä¢ Heat appears on product side (+ 196 kJ)
‚Ä¢ This is an EXOTHERMIC reaction (ŒîH < 0)

STEP 2: Apply Le Ch√¢telier's Principle
‚Ä¢ Increasing temperature = adding heat to system
‚Ä¢ System will shift to counteract this disturbance
‚Ä¢ System shifts to consume excess heat

STEP 3: Determine direction of shift
‚Ä¢ Heat acts like a "product"
‚Ä¢ Adding heat shifts equilibrium AWAY from products
‚Ä¢ Equilibrium shifts LEFT (toward reactants)

STEP 4: Result
‚Ä¢ More SO‚ÇÇ and O‚ÇÇ formed
‚Ä¢ Less SO‚ÇÉ formed
‚Ä¢ Equilibrium position shifts left

PART B: EFFECT OF INCREASING PRESSURE (4 marks)

STEP 1: Count gas molecules on each side
Left side: 2SO‚ÇÇ + 1O‚ÇÇ = 3 gas molecules
Right side: 2SO‚ÇÉ = 2 gas molecules

STEP 2: Apply Le Ch√¢telier's Principle
‚Ä¢ Increasing pressure = system under stress
‚Ä¢ System shifts to reduce pressure
‚Ä¢ Favors side with FEWER gas molecules

STEP 3: Determine direction of shift
‚Ä¢ Right side has fewer molecules (2 vs 3)
‚Ä¢ Equilibrium shifts RIGHT (toward products)

STEP 4: Result
‚Ä¢ More SO‚ÇÉ formed
‚Ä¢ Less SO‚ÇÇ and O‚ÇÇ present
‚Ä¢ Equilibrium position shifts right

PART C: EFFECT OF ADDING CATALYST (4 marks)

STEP 1: Define catalyst function
‚Ä¢ Catalyst lowers activation energy
‚Ä¢ Increases rate of both forward AND reverse reactions
‚Ä¢ Does NOT affect equilibrium position

STEP 2: Effect on reaction rates
‚Ä¢ Forward reaction rate increases
‚Ä¢ Reverse reaction rate increases equally
‚Ä¢ Equilibrium reached faster

STEP 3: Effect on equilibrium position
‚Ä¢ NO CHANGE in equilibrium position
‚Ä¢ Same amounts of reactants and products at equilibrium
‚Ä¢ Only affects TIME to reach equilibrium

STEP 4: Result
‚Ä¢ Equilibrium position: NO CHANGE
‚Ä¢ Time to reach equilibrium: DECREASES

PART D: EFFECT OF REMOVING SO‚ÇÉ (4 marks)

STEP 1: Identify the disturbance
‚Ä¢ SO‚ÇÉ is a product
‚Ä¢ Removing SO‚ÇÉ decreases [SO‚ÇÉ]

STEP 2: Apply Le Ch√¢telier's Principle
‚Ä¢ System shifts to counteract disturbance
‚Ä¢ System shifts to replace removed SO‚ÇÉ
‚Ä¢ Equilibrium shifts toward products

STEP 3: Determine direction of shift
‚Ä¢ Equilibrium shifts RIGHT
‚Ä¢ More SO‚ÇÇ and O‚ÇÇ react to form SO‚ÇÉ

STEP 4: Result
‚Ä¢ More SO‚ÇÉ produced (to replace what was removed)
‚Ä¢ Less SO‚ÇÇ and O‚ÇÇ present
‚Ä¢ Equilibrium position shifts right

SUMMARY TABLE:
Change          | Direction | Reason
Temperature ‚Üë   | Left      | Exothermic reaction
Pressure ‚Üë      | Right     | Fewer gas molecules
Catalyst added  | No change | Affects rate only
SO‚ÇÉ removed     | Right     | Replace removed product`
        }
      ]
    };

    // Show/Hide memo function
    function toggleMemo(questionId) {
      const memoSection = document.getElementById(`memo-${questionId}`);
      const memoBtn = document.getElementById(`memo-btn-${questionId}`);
      
      if (memoSection.classList.contains('show')) {
        memoSection.classList.remove('show');
        memoBtn.textContent = 'üìñ Show Memo & Steps';
      } else {
        memoSection.classList.add('show');
        memoBtn.textContent = 'üìñ Hide Memo';
      }
    }

    // Load practice questions
    function loadPracticeQuestions() {
      const container = document.getElementById('practice-questions');
      const allQuestions = [...questionBank.mcq, ...questionBank.longQuestions];
      
      let filteredQuestions = allQuestions;
      if (currentFilter !== 'all') {
        filteredQuestions = allQuestions.filter(q => q.topic === currentFilter);
      }
      
      currentQuestions = filteredQuestions;
      currentAnswers = {};
      
      container.innerHTML = filteredQuestions.map((q, index) => {
        if (q.options) {
          // MCQ
          return `
            <div class="question-card" data-topic="${q.topic}">
              <div class="question-number">Question ${index + 1} (MCQ) - ${getTopicName(q.topic)}</div>
              <div class="question-text">${q.question}</div>
              <div class="options">
                ${q.options.map((option, i) => `
                  <div class="option" onclick="selectOption(${index}, ${i})" data-option="${i}">
                    ${String.fromCharCode(65 + i)}. ${option}
                  </div>
                `).join('')}
              </div>
              <button id="memo-btn-${q.id}" class="btn btn-memo" onclick="toggleMemo(${q.id})">
                üìñ Show Memo & Steps
              </button>
              <div id="memo-${q.id}" class="memo-section">
                <div class="memo-title">
                  üéØ Step-by-Step Solution & Explanation
                </div>
                <div class="memo-content">${q.explanation}</div>
                <div class="correct-answer">
                  ‚úÖ Correct Answer: ${q.options[q.correct]}
                </div>
              </div>
            </div>
          `;
        } else {
          // Long question
          return `
            <div class="question-card" data-topic="${q.topic}">
              <div class="question-number">Question ${index + 1} (Long Answer - ${q.points} marks) - ${getTopicName(q.topic)}</div>
              <div class="question-text">${q.question}</div>
              <div style="margin-top: 15px;">
                <strong>Marking Scheme:</strong>
                <ul style="margin-top: 10px; padding-left: 20px;">
                  ${q.markingScheme.map(point => `<li>${point}</li>`).join('')}
                </ul>
              </div>
              <button id="memo-btn-${q.id}" class="btn btn-memo" onclick="toggleMemo(${q.id})">
                üìñ Show Complete Answer & Steps
              </button>
              <div id="memo-${q.id}" class="memo-section">
                <div class="memo-title">
                  üéØ Complete Step-by-Step Answer (${q.points} marks)
                </div>
                <div class="step-by-step">
                  <div class="memo-content">${q.stepByStepAnswer}</div>
                </div>
              </div>
            </div>
          `;
        }
      }).join('');
      
      document.getElementById('practice-score').style.display = 'none';
    }

    // Get topic display name
    function getTopicName(topic) {
      const topicNames = {
        'representing-change': 'Representing Chemical Change',
        'quantitative': 'Quantitative Aspects',
        'imf': 'Intermolecular Forces',
        'organic-chemistry': 'Organic Chemistry',
        'organic-reactions': 'Organic Reactions',
        'energy-heats': 'Energy & Heats',
        'reaction-rates': 'Reaction Rates',
        'equilibrium': 'Chemical Equilibrium',
        'acids-bases': 'Acids & Bases',
        'electrochemistry': 'Electrochemistry'
      };
      return topicNames[topic] || topic;
    }

    // Load MCQ questions
    function loadMCQQuestions() {
      let filteredQuestions = questionBank.mcq;
      if (currentFilter !== 'all') {
        filteredQuestions = questionBank.mcq.filter(q => q.topic === currentFilter);
      }
      
      currentQuestions = filteredQuestions.slice(0, mcqDisplayCount);
      currentAnswers = {};
      
      displayMCQQuestions();
    }

    function displayMCQQuestions() {
      const container = document.getElementById('mcq-questions');
      
      container.innerHTML = currentQuestions.map((q, index) => `
        <div class="question-card" data-topic="${q.topic}">
          <div class="question-number">Question ${index + 1} - ${getTopicName(q.topic)}</div>
          <div class="question-text">${q.question}</div>
          <div class="options">
            ${q.options.map((option, i) => `
              <div class="option" onclick="selectMCQOption(${index}, ${i})" data-option="${i}">
                ${String.fromCharCode(65 + i)}. ${option}
              </div>
            `).join('')}
          </div>
          <button id="memo-btn-${q.id}" class="btn btn-memo" onclick="toggleMemo(${q.id})">
            üìñ Show Memo & Steps
          </button>
          <div id="memo-${q.id}" class="memo-section">
            <div class="memo-title">
              üéØ Step-by-Step Solution & Explanation
            </div>
            <div class="memo-content">${q.explanation}</div>
            <div class="correct-answer">
              ‚úÖ Correct Answer: ${q.options[q.correct]}
            </div>
          </div>
        </div>
      `).join('');
      
      document.getElementById('mcq-score').style.display = 'none';
    }

    // Select option for practice questions
    function selectOption(questionIndex, optionIndex) {
      const question = currentQuestions[questionIndex];
      if (!question.options) return; // Skip long questions
      
      currentAnswers[questionIndex] = optionIndex;
      
      // Update UI
      const questionCard = document.querySelectorAll('#practice-questions .question-card')[questionIndex];
      const options = questionCard.querySelectorAll('.option');
      
      options.forEach((opt, i) => {
        opt.classList.remove('selected', 'correct', 'incorrect');
        if (i === optionIndex) {
          opt.classList.add('selected');
        }
      });
      
      // Show result after selection
      setTimeout(() => {
        options.forEach((opt, i) => {
          if (i === question.correct) {
            opt.classList.add('correct');
          } else if (i === optionIndex && i !== question.correct) {
            opt.classList.add('incorrect');
          }
        });
        
        updatePracticeScore();
      }, 500);
    }

    // Select option for MCQ questions
    function selectMCQOption(questionIndex, optionIndex) {
      const question = currentQuestions[questionIndex];
      currentAnswers[questionIndex] = optionIndex;
      
      // Update UI
      const questionCard = document.querySelectorAll('#mcq-questions .question-card')[questionIndex];
      const options = questionCard.querySelectorAll('.option');
      
      options.forEach((opt, i) => {
        opt.classList.remove('selected', 'correct', 'incorrect');
        if (i === optionIndex) {
          opt.classList.add('selected');
        }
      });
      
      // Show result after selection
      setTimeout(() => {
        options.forEach((opt, i) => {
          if (i === question.correct) {
            opt.classList.add('correct');
          } else if (i === optionIndex && i !== question.correct) {
            opt.classList.add('incorrect');
          }
        });
        
        updateMCQScore();
      }, 500);
    }

    // Update practice score
    function updatePracticeScore() {
      const mcqQuestions = currentQuestions.filter(q => q.options);
      const answered = Object.keys(currentAnswers).length;
      const correct = Object.entries(currentAnswers).filter(([index, answer]) => {
        const question = currentQuestions[index];
        return question.options && answer === question.correct;
      }).length;
      
      if (answered > 0) {
        const scoreElement = document.getElementById('practice-score');
        scoreElement.innerHTML = `üéØ Score: ${correct}/${answered} MCQs answered correctly (${Math.round(correct/answered*100)}%) - Keep practicing, Mpumi!`;
        scoreElement.style.display = 'block';
      }
    }

    // Update MCQ score
    function updateMCQScore() {
      const answered = Object.keys(currentAnswers).length;
      const correct = Object.entries(currentAnswers).filter(([index, answer]) => {
        return answer === currentQuestions[index].correct;
      }).length;
      
      if (answered > 0) {
        const scoreElement = document.getElementById('mcq-score');
        scoreElement.innerHTML = `üéØ Score: ${correct}/${answered} correct (${Math.round(correct/answered*100)}%) - Great work, Mpumi!`;
        scoreElement.style.display = 'block';
      }
    }

    // Filter functions
    function filterQuestions(topic) {
      currentFilter = topic;
      
      // Update active filter button
      document.querySelectorAll('#practice-page .filter-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      event.target.classList.add('active');
      
      loadPracticeQuestions();
    }

    function filterMCQ(topic) {
      currentFilter = topic;
      mcqDisplayCount = 5; // Reset display count
      
      // Update active filter button
      document.querySelectorAll('#mcq-page .filter-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      event.target.classList.add('active');
      
      loadMCQQuestions();
    }

    // MCQ utility functions
    function shuffleMCQ() {
      let filteredQuestions = questionBank.mcq;
      if (currentFilter !== 'all') {
        filteredQuestions = questionBank.mcq.filter(q => q.topic === currentFilter);
      }
      
      // Shuffle array
      for (let i = filteredQuestions.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [filteredQuestions[i], filteredQuestions[j]] = [filteredQuestions[j], filteredQuestions[i]];
      }
      
      currentQuestions = filteredQuestions.slice(0, mcqDisplayCount);
      currentAnswers = {};
      displayMCQQuestions();
    }

    function loadMoreMCQ() {
      let filteredQuestions = questionBank.mcq;
      if (currentFilter !== 'all') {
        filteredQuestions = questionBank.mcq.filter(q => q.topic === currentFilter);
      }
      
      mcqDisplayCount = Math.min(mcqDisplayCount + 5, filteredQuestions.length);
      currentQuestions = filteredQuestions.slice(0, mcqDisplayCount);
      
      displayMCQQuestions();
    }

    // Mock exam functions
    function startMockExam() {
      // Select random questions for exam (representing real exam proportions)
      const examMCQ = questionBank.mcq.sort(() => 0.5 - Math.random()).slice(0, 12);
      const examLong = questionBank.longQuestions.sort(() => 0.5 - Math.random()).slice(0, 3);
      
      currentQuestions = [...examMCQ, ...examLong];
      currentAnswers = {};
      
      // Start timer (180 minutes)
      startTimer(180 * 60);
      
      // Display questions
      const container = document.getElementById('exam-questions');
      container.innerHTML = currentQuestions.map((q, index) => {
        if (q.options) {
          return `
            <div class="question-card">
              <div class="question-number">Question ${index + 1} (MCQ - 2 marks) - ${getTopicName(q.topic)}</div>
              <div class="question-text">${q.question}</div>
              <div class="options">
                ${q.options.map((option, i) => `
                  <div class="option" onclick="selectExamOption(${index}, ${i})" data-option="${i}">
                    ${String.fromCharCode(65 + i)}. ${option}
                  </div>
                `).join('')}
              </div>
            </div>
          `;
        } else {
          return `
            <div class="question-card">
              <div class="question-number">Question ${index + 1} (Long Answer - ${q.points} marks) - ${getTopicName(q.topic)}</div>
              <div class="question-text">${q.question}</div>
              <textarea placeholder="Write your detailed answer here following the marking scheme..." style="width: 100%; min-height: 200px; margin-top: 15px; padding: 15px; border: 2px solid #e2e8f0; border-radius: 8px; font-family: inherit; font-size: 14px;"></textarea>
            </div>
          `;
        }
      }).join('');
      
      // Add submit button
      container.innerHTML += `
        <div style="text-align: center; margin-top: 30px;">
          <button class="btn btn-primary" onclick="submitExam()">üìù Submit Exam</button>
        </div>
      `;
      
      document.getElementById('exam-score').style.display = 'none';
    }

    function selectExamOption(questionIndex, optionIndex) {
      currentAnswers[questionIndex] = optionIndex;
      
      const questionCard = document.querySelectorAll('#exam-questions .question-card')[questionIndex];
      const options = questionCard.querySelectorAll('.option');
      
      options.forEach(opt => opt.classList.remove('selected'));
      options[optionIndex].classList.add('selected');
    }

    function submitExam() {
      if (examTimer) {
        clearInterval(examTimer);
        examTimer = null;
      }
      
      // Calculate score for MCQ questions only
      const mcqQuestions = currentQuestions.filter(q => q.options);
      const mcqAnswered = Object.entries(currentAnswers).filter(([index]) => {
        return currentQuestions[index].options;
      });
      
      const correct = mcqAnswered.filter(([index, answer]) => {
        return answer === currentQuestions[index].correct;
      }).length;
      
      const totalMCQ = mcqQuestions.length;
      const mcqScore = correct * 2; // 2 marks per MCQ
      const longQuestionMarks = currentQuestions.filter(q => !q.options).reduce((sum, q) => sum + q.points, 0);
      
      document.getElementById('exam-score').innerHTML = `
        <h3>üéâ Mock Exam Completed, Mpumi!</h3>
        <p><strong>MCQ Score:</strong> ${mcqScore}/${totalMCQ * 2} marks (${correct}/${totalMCQ} correct)</p>
        <p><strong>Long Questions:</strong> ${longQuestionMarks} marks (to be marked manually)</p>
        <p><strong>Total Possible:</strong> ${totalMCQ * 2 + longQuestionMarks} marks</p>
        <p style="margin-top: 15px; color: #2d3748;">Excellent effort! Review the official exam guidelines and keep practicing. You're well-prepared! üí™</p>
      `;
      document.getElementById('exam-score').style.display = 'block';
      document.getElementById('timer').style.display = 'none';
    }

    // Timer functions
    function startTimer(seconds) {
      let timeLeft = seconds;
      const timerElement = document.getElementById('timer');
      const timeDisplay = document.getElementById('time-display');
      
      timerElement.style.display = 'block';
      
      examTimer = setInterval(() => {
        const hours = Math.floor(timeLeft / 3600);
        const minutes = Math.floor((timeLeft % 3600) / 60);
        const secs = timeLeft % 60;
        
        timeDisplay.textContent = `${hours}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        
        if (timeLeft <= 0) {
          clearInterval(examTimer);
          examTimer = null;
          submitExam();
          alert('‚è∞ Time\'s up! Your exam has been automatically submitted. Great job, Mpumi!');
        }
        
        timeLeft--;
      }, 1000);
    }

    // Initialize the app
    document.addEventListener('DOMContentLoaded', function() {
      // Show main page by default
      showPage('main-page');
    });
  </script>
</body>

</html>
