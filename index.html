<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chemistry Mastery - Grade 12 Matric Exam Preparation</title>
    <meta name="description" content="Comprehensive Grade 12 Chemistry practice website for Matric exam preparation. CAPS curriculum aligned with practice questions, mock exams, and detailed solutions.">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <style>
        .gradient-text {
            background: linear-gradient(to right, #2563eb, #4f46e5);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
        
        .animate-in {
            animation: slideInFromBottom 0.7s ease-out;
        }
        
        @keyframes slideInFromBottom {
            from {
                opacity: 0;
                transform: translateY(32px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .hidden {
            display: none !important;
        }
        
        .show {
            display: block !important;
        }
        
        .timer-text {
            font-family: 'Courier New', monospace;
        }
        
        .nav-btn.active {
            background: linear-gradient(to right, #2563eb, #4f46e5);
            color: white;
        }
        
        .section-btn {
            transition: all 0.3s ease;
        }
        
        .section-btn:hover {
            transform: translateY(-2px);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 min-h-screen">
    
    <!-- Navigation Header -->
    <header class="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="p-2 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg">
                        <i data-lucide="atom" class="w-8 h-8 text-white"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold gradient-text">Chemistry Mastery</h1>
                        <p class="text-sm text-gray-600">Grade 12 Matric Exam Preparation</p>
                    </div>
                </div>
                
                <!-- Main Navigation -->
                <nav class="hidden md:flex space-x-2">
                    <button onclick="showPage('home')" class="nav-btn px-4 py-2 rounded-lg transition-all duration-300 text-sm font-medium">
                        <i data-lucide="home" class="w-4 h-4 mr-1 inline"></i>Home
                    </button>
                    <button onclick="showPage('guidelines')" class="nav-btn px-4 py-2 rounded-lg transition-all duration-300 text-sm font-medium">
                        <i data-lucide="book-open" class="w-4 h-4 mr-1 inline"></i>Guidelines
                    </button>
                    <button onclick="showPage('practice')" class="nav-btn px-4 py-2 rounded-lg transition-all duration-300 text-sm font-medium">
                        <i data-lucide="pen-tool" class="w-4 h-4 mr-1 inline"></i>Practice
                    </button>
                    <button onclick="showPage('mcq-only')" class="nav-btn px-4 py-2 rounded-lg transition-all duration-300 text-sm font-medium">
                        <i data-lucide="check-square" class="w-4 h-4 mr-1 inline"></i>MCQ Only
                    </button>
                    <button onclick="showPage('mock-exam')" class="nav-btn px-4 py-2 rounded-lg transition-all duration-300 text-sm font-medium">
                        <i data-lucide="clock" class="w-4 h-4 mr-1 inline"></i>Mock Exam
                    </button>
                </nav>
                
                <!-- Mobile Menu Button -->
                <button onclick="toggleMobileMenu()" class="md:hidden p-2 rounded-lg hover:bg-gray-100">
                    <i data-lucide="menu" class="w-6 h-6"></i>
                </button>
            </div>
            
            <!-- Mobile Navigation -->
            <div id="mobile-menu" class="hidden md:hidden mt-4 pb-4 border-t border-gray-200">
                <div class="flex flex-col space-y-2 mt-4">
                    <button onclick="showPage('home')" class="nav-btn text-left px-4 py-2 rounded-lg transition-all duration-300 text-sm font-medium">
                        <i data-lucide="home" class="w-4 h-4 mr-2 inline"></i>Home
                    </button>
                    <button onclick="showPage('guidelines')" class="nav-btn text-left px-4 py-2 rounded-lg transition-all duration-300 text-sm font-medium">
                        <i data-lucide="book-open" class="w-4 h-4 mr-2 inline"></i>Guidelines
                    </button>
                    <button onclick="showPage('practice')" class="nav-btn text-left px-4 py-2 rounded-lg transition-all duration-300 text-sm font-medium">
                        <i data-lucide="pen-tool" class="w-4 h-4 mr-2 inline"></i>Practice
                    </button>
                    <button onclick="showPage('mcq-only')" class="nav-btn text-left px-4 py-2 rounded-lg transition-all duration-300 text-sm font-medium">
                        <i data-lucide="check-square" class="w-4 h-4 mr-2 inline"></i>MCQ Only
                    </button>
                    <button onclick="showPage('mock-exam')" class="nav-btn text-left px-4 py-2 rounded-lg transition-all duration-300 text-sm font-medium">
                        <i data-lucide="clock" class="w-4 h-4 mr-2 inline"></i>Mock Exam
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Section Navigation (appears on non-home pages) -->
    <div id="section-nav" class="hidden bg-gradient-to-r from-blue-600 to-indigo-600 py-3">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-wrap gap-2 justify-center">
                <button onclick="filterByTopic('all')" class="section-btn bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg text-sm font-medium">
                    All Topics
                </button>
                <button onclick="filterByTopic('Atomic Structure')" class="section-btn bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg text-sm font-medium">
                    Atomic Structure
                </button>
                <button onclick="filterByTopic('Chemical Bonding')" class="section-btn bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg text-sm font-medium">
                    Chemical Bonding
                </button>
                <button onclick="filterByTopic('Acids and Bases')" class="section-btn bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg text-sm font-medium">
                    Acids & Bases
                </button>
                <button onclick="filterByTopic('Organic Chemistry')" class="section-btn bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg text-sm font-medium">
                    Organic Chemistry
                </button>
                <button onclick="filterByTopic('Redox Reactions')" class="section-btn bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg text-sm font-medium">
                    Redox Reactions
                </button>
                <button onclick="filterByTopic('Gas Laws')" class="section-btn bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg text-sm font-medium">
                    Gas Laws
                </button>
            </div>
        </div>
    </div>

    <!-- Home Page -->
    <div id="home-page" class="page">
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <!-- Hero Section -->
            <div class="text-center mb-16">
                <div class="inline-flex items-center space-x-2 bg-gradient-to-r from-blue-100 to-indigo-100 px-4 py-2 rounded-full mb-6">
                    <i data-lucide="sparkles" class="w-5 h-5 text-blue-600"></i>
                    <span class="text-blue-800 font-medium">CAPS Curriculum Aligned</span>
                </div>
                <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">
                    Master Chemistry with
                    <span class="block gradient-text">Confidence & Excellence</span>
                </h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed">
                    Comprehensive practice questions, detailed solutions, and timed mock exams 
                    designed specifically for the South African Grade 12 Chemistry curriculum.
                </p>
                <div class="mt-8 text-right">
                    <p class="text-lg font-semibold text-gray-800">Welcome, Mpumi! üéì</p>
                    <p class="text-sm text-gray-600">Ready to ace your chemistry exam?</p>
                </div>
            </div>

            <!-- Feature Cards -->
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
                <div class="card-hover bg-white rounded-xl shadow-lg border-0 bg-gradient-to-br from-white to-blue-50">
                    <div class="p-6 text-center">
                        <div class="mx-auto w-14 h-14 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full flex items-center justify-center mb-4">
                            <i data-lucide="book-open" class="w-7 h-7 text-white"></i>
                        </div>
                        <h3 class="text-lg font-bold text-gray-800 mb-3">Study Guidelines</h3>
                        <p class="text-gray-600 mb-4 text-sm">CAPS curriculum overview and study strategies</p>
                        <button onclick="showPage('guidelines')" class="w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-2 rounded-lg transition-all text-sm">
                            Explore Guidelines
                        </button>
                    </div>
                </div>

                <div class="card-hover bg-white rounded-xl shadow-lg border-0 bg-gradient-to-br from-white to-green-50">
                    <div class="p-6 text-center">
                        <div class="mx-auto w-14 h-14 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center mb-4">
                            <i data-lucide="pen-tool" class="w-7 h-7 text-white"></i>
                        </div>
                        <h3 class="text-lg font-bold text-gray-800 mb-3">Practice Questions</h3>
                        <p class="text-gray-600 mb-4 text-sm">Mixed MCQ and long questions with explanations</p>
                        <button onclick="showPage('practice')" class="w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold py-2 rounded-lg transition-all text-sm">
                            Start Practice
                        </button>
                    </div>
                </div>

                <div class="card-hover bg-white rounded-xl shadow-lg border-0 bg-gradient-to-br from-white to-yellow-50">
                    <div class="p-6 text-center">
                        <div class="mx-auto w-14 h-14 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full flex items-center justify-center mb-4">
                            <i data-lucide="check-square" class="w-7 h-7 text-white"></i>
                        </div>
                        <h3 class="text-lg font-bold text-gray-800 mb-3">MCQ Only</h3>
                        <p class="text-gray-600 mb-4 text-sm">50+ multiple choice questions for quick practice</p>
                        <button onclick="showPage('mcq-only')" class="w-full bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 text-white font-semibold py-2 rounded-lg transition-all text-sm">
                            Practice MCQ
                        </button>
                    </div>
                </div>

                <div class="card-hover bg-white rounded-xl shadow-lg border-0 bg-gradient-to-br from-white to-purple-50">
                    <div class="p-6 text-center">
                        <div class="mx-auto w-14 h-14 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mb-4">
                            <i data-lucide="clock" class="w-7 h-7 text-white"></i>
                        </div>
                        <h3 class="text-lg font-bold text-gray-800 mb-3">Mock Exam</h3>
                        <p class="text-gray-600 mb-4 text-sm">Timed exams simulating real Matric conditions</p>
                        <button onclick="showPage('mock-exam')" class="w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold py-2 rounded-lg transition-all text-sm">
                            Take Mock Exam
                        </button>
                    </div>
                </div>
            </div>

            <!-- Stats Section -->
            <div class="bg-gradient-to-r from-gray-900 to-gray-800 rounded-2xl p-8 text-white">
                <div class="text-center mb-8">
                    <h3 class="text-2xl font-bold mb-2">Your Success Toolkit</h3>
                    <p class="text-gray-300">Everything you need to excel in your chemistry exam</p>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
                    <div class="space-y-2">
                        <div class="text-3xl font-bold text-blue-400">60+</div>
                        <div class="text-sm text-gray-300">Practice Questions</div>
                    </div>
                    <div class="space-y-2">
                        <div class="text-3xl font-bold text-green-400">8</div>
                        <div class="text-sm text-gray-300">Key Topics Covered</div>
                    </div>
                    <div class="space-y-2">
                        <div class="text-3xl font-bold text-purple-400">180min</div>
                        <div class="text-sm text-gray-300">Mock Exam Duration</div>
                    </div>
                    <div class="space-y-2">
                        <div class="text-3xl font-bold text-yellow-400">100%</div>
                        <div class="text-sm text-gray-300">CAPS Aligned</div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Guidelines Page -->
    <div id="guidelines-page" class="page hidden">
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
                    Your Path to <span class="gradient-text">Chemistry Excellence</span>
                </h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                    Master the CAPS curriculum with our comprehensive study guidelines designed specifically for Grade 12 Chemistry success.
                </p>
            </div>

            <div class="space-y-8">
                <!-- CAPS Overview -->
                <div class="bg-white rounded-xl shadow-lg border-0">
                    <div class="bg-gradient-to-r from-gray-50 to-blue-50 border-b border-gray-100 p-6 rounded-t-xl">
                        <div class="flex items-center space-x-4">
                            <div class="p-3 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg">
                                <i data-lucide="book-open" class="w-6 h-6 text-white"></i>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800">CAPS Chemistry Curriculum Overview</h3>
                        </div>
                    </div>
                    <div class="p-8">
                        <p class="text-gray-700 text-lg leading-relaxed mb-6">
                            The Grade 12 Chemistry curriculum follows the Curriculum and Assessment Policy Statement (CAPS) framework, covering essential topics that build on Grade 10 and 11 knowledge.
                        </p>
                        <div class="space-y-3">
                            <h4 class="font-semibold text-gray-800 text-lg mb-4 flex items-center">
                                <i data-lucide="check-circle" class="w-5 h-5 text-green-600 mr-2"></i>
                                Key Points & Tips:
                            </h4>
                            <div class="grid gap-3">
                                <div class="flex items-start space-x-3 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                                    <div class="flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-semibold mt-0.5">1</div>
                                    <p class="text-gray-700 leading-relaxed">Focus on understanding concepts rather than memorizing</p>
                                </div>
                                <div class="flex items-start space-x-3 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                                    <div class="flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-semibold mt-0.5">2</div>
                                    <p class="text-gray-700 leading-relaxed">Practice calculations regularly - they make up 40% of the exam</p>
                                </div>
                                <div class="flex items-start space-x-3 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                                    <div class="flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-semibold mt-0.5">3</div>
                                    <p class="text-gray-700 leading-relaxed">Master chemical equations and balancing - essential for redox and organic chemistry</p>
                                </div>
                                <div class="flex items-start space-x-3 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                                    <div class="flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-semibold mt-0.5">4</div>
                                    <p class="text-gray-700 leading-relaxed">Understand periodic table trends - atomic radius, ionization energy, electronegativity</p>
                                </div>
                                <div class="flex items-start space-x-3 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                                    <div class="flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-semibold mt-0.5">5</div>
                                    <p class="text-gray-700 leading-relaxed">Practice drawing Lewis structures and predicting molecular geometry using VSEPR theory</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Exam Structure -->
                <div class="bg-white rounded-xl shadow-lg border-0">
                    <div class="bg-gradient-to-r from-gray-50 to-blue-50 border-b border-gray-100 p-6 rounded-t-xl">
                        <div class="flex items-center space-x-4">
                            <div class="p-3 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg">
                                <i data-lucide="target" class="w-6 h-6 text-white"></i>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800">Matric Chemistry Exam Structure</h3>
                        </div>
                    </div>
                    <div class="p-8">
                        <p class="text-gray-700 text-lg leading-relaxed mb-6">
                            The Grade 12 Chemistry exam consists of two papers: Paper 1 (theoretical) and Paper 2 (practical and theory). Each paper is 3 hours long and worth 150 marks.
                        </p>
                        <div class="grid gap-3">
                            <div class="flex items-start space-x-3 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                                <div class="flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-semibold mt-0.5">1</div>
                                <p class="text-gray-700 leading-relaxed"><strong>Paper 1:</strong> Atomic structure, chemical bonding, molecular structure, intermolecular forces, gas laws, solutions and solubility</p>
                            </div>
                            <div class="flex items-start space-x-3 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                                <div class="flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-semibold mt-0.5">2</div>
                                <p class="text-gray-700 leading-relaxed"><strong>Paper 2:</strong> Organic chemistry, acids and bases, redox reactions, chemical equilibrium, reaction rates, and practical investigations</p>
                            </div>
                            <div class="flex items-start space-x-3 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                                <div class="flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-semibold mt-0.5">3</div>
                                <p class="text-gray-700 leading-relaxed">Both papers include multiple choice questions (20-30 marks) and structured questions</p>
                            </div>
                            <div class="flex items-start space-x-3 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                                <div class="flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-semibold mt-0.5">4</div>
                                <p class="text-gray-700 leading-relaxed">Time management is crucial - allocate 1.2 minutes per mark (e.g., 6 minutes for a 5-mark question)</p>
                            </div>
                            <div class="flex items-start space-x-3 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                                <div class="flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-semibold mt-0.5">5</div>
                                <p class="text-gray-700 leading-relaxed">Show all working for calculations - partial marks are awarded for correct method even if final answer is wrong</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Key Topics -->
                <div class="bg-white rounded-xl shadow-lg border-0">
                    <div class="bg-gradient-to-r from-gray-50 to-green-50 border-b border-gray-100 p-6 rounded-t-xl">
                        <div class="flex items-center space-x-4">
                            <div class="p-3 bg-gradient-to-r from-green-600 to-emerald-600 rounded-lg">
                                <i data-lucide="check-circle" class="w-6 h-6 text-white"></i>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800">High-Priority Topics for Exam Success</h3>
                        </div>
                    </div>
                    <div class="p-8">
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <h4 class="font-semibold text-gray-800 mb-3">Paper 1 Focus Areas:</h4>
                                <ul class="space-y-2 text-gray-700">
                                    <li>‚Ä¢ Electron configuration and periodic trends</li>
                                    <li>‚Ä¢ Lewis structures and molecular geometry</li>
                                    <li>‚Ä¢ Intermolecular forces and boiling points</li>
                                    <li>‚Ä¢ Gas law calculations (PV=nRT)</li>
                                    <li>‚Ä¢ Molarity and solution concentration</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-800 mb-3">Paper 2 Focus Areas:</h4>
                                <ul class="space-y-2 text-gray-700">
                                    <li>‚Ä¢ Organic functional groups and reactions</li>
                                    <li>‚Ä¢ pH calculations and titration curves</li>
                                    <li>‚Ä¢ Balancing redox equations</li>
                                    <li>‚Ä¢ Le Chatelier's principle applications</li>
                                    <li>‚Ä¢ Reaction rate factors and mechanisms</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Practice Page -->
    <div id="practice-page" class="page hidden">
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Practice Questions</h2>
                <p class="text-gray-600">Test your knowledge with our comprehensive question bank (MCQ + Long Questions)</p>
            </div>

            <!-- Controls -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                <div class="flex flex-wrap gap-4 items-center justify-between">
                    <div class="flex gap-4">
                        <button onclick="shuffleQuestions('practice')" class="bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2">
                            <i data-lucide="shuffle" class="w-4 h-4"></i>
                            <span>Shuffle Questions</span>
                        </button>
                        <button onclick="resetPractice()" class="border border-gray-300 text-gray-700 hover:bg-gray-50 px-4 py-2 rounded-lg flex items-center space-x-2">
                            <i data-lucide="rotate-ccw" class="w-4 h-4"></i>
                            <span>Reset</span>
                        </button>
                    </div>
                    <div class="flex gap-4">
                        <button id="submit-practice-btn" onclick="submitPractice()" class="bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2">
                            <i data-lucide="check-circle" class="w-4 h-4"></i>
                            <span>Submit Answers</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Score Display -->
            <div id="practice-score" class="hidden bg-gradient-to-r from-gray-900 to-gray-800 text-white rounded-xl p-6 mb-8">
                <div class="text-center">
                    <h3 class="text-2xl font-bold mb-4">Practice Complete!</h3>
                    <div id="score-display" class="text-4xl font-bold text-green-400 mb-2"></div>
                    <p class="text-gray-300">Review the explanations below to improve your understanding</p>
                </div>
            </div>

            <!-- Questions Container -->
            <div id="practice-questions-container"></div>
        </main>
    </div>

    <!-- MCQ Only Page -->
    <div id="mcq-only-page" class="page hidden">
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Multiple Choice Questions</h2>
                <p class="text-gray-600">Practice with 50+ multiple choice questions - perfect for quick revision</p>
            </div>

            <!-- MCQ Controls -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                <div class="flex flex-wrap gap-4 items-center justify-between">
                    <div class="flex gap-4">
                        <button onclick="shuffleQuestions('mcq')" class="bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2">
                            <i data-lucide="shuffle" class="w-4 h-4"></i>
                            <span>Shuffle MCQs</span>
                        </button>
                        <button onclick="loadMoreMCQs()" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2">
                            <i data-lucide="plus" class="w-4 h-4"></i>
                            <span>Load More</span>
                        </button>
                        <button onclick="resetMCQ()" class="border border-gray-300 text-gray-700 hover:bg-gray-50 px-4 py-2 rounded-lg flex items-center space-x-2">
                            <i data-lucide="rotate-ccw" class="w-4 h-4"></i>
                            <span>Reset</span>
                        </button>
                    </div>
                    <div class="flex gap-4">
                        <button id="submit-mcq-btn" onclick="submitMCQ()" class="bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2">
                            <i data-lucide="check-circle" class="w-4 h-4"></i>
                            <span>Submit MCQs</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- MCQ Score Display -->
            <div id="mcq-score" class="hidden bg-gradient-to-r from-gray-900 to-gray-800 text-white rounded-xl p-6 mb-8">
                <div class="text-center">
                    <h3 class="text-2xl font-bold mb-4">MCQ Practice Complete!</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-2xl mx-auto">
                        <div class="bg-white/10 rounded-lg p-4">
                            <div id="mcq-score-display" class="text-3xl font-bold text-green-400 mb-1"></div>
                            <div class="text-sm text-gray-300">Correct Answers</div>
                        </div>
                        <div class="bg-white/10 rounded-lg p-4">
                            <div id="mcq-percentage-display" class="text-3xl font-bold text-blue-400 mb-1"></div>
                            <div class="text-sm text-gray-300">Accuracy</div>
                        </div>
                        <div class="bg-white/10 rounded-lg p-4">
                            <div id="mcq-total-display" class="text-3xl font-bold text-purple-400 mb-1"></div>
                            <div class="text-sm text-gray-300">Total Questions</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- MCQ Questions Container -->
            <div id="mcq-questions-container"></div>
        </main>
    </div>

    <!-- Mock Exam Page -->
    <div id="mock-exam-page" class="page hidden">
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <!-- Exam Setup -->
            <div id="exam-setup" class="text-center">
                <h2 class="text-4xl font-bold text-gray-900 mb-6">
                    Ready for Your <span class="gradient-text">Chemistry Mock Exam?</span>
                </h2>
                <p class="text-xl text-gray-600 max-w-2xl mx-auto mb-8">
                    This mock exam simulates real Matric conditions with a 3-hour timer and carefully selected questions covering all key topics.
                </p>
                
                <!-- Exam Info -->
                <div class="bg-white rounded-xl shadow-lg p-8 mb-8 max-w-4xl mx-auto">
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h3 class="font-semibold text-gray-800 mb-4 flex items-center">
                                <i data-lucide="clock" class="w-5 h-5 text-purple-600 mr-2"></i>
                                Exam Structure
                            </h3>
                            <ul class="space-y-2 text-gray-600 text-left">
                                <li>‚Ä¢ <strong>Duration:</strong> 3 hours (180 minutes)</li>
                                <li>‚Ä¢ <strong>Questions:</strong> 15 total questions</li>
                                <li>‚Ä¢ <strong>MCQ:</strong> 10 multiple choice</li>
                                <li>‚Ä¢ <strong>Long Questions:</strong> 5 detailed answers</li>
                            </ul>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800 mb-4 flex items-center">
                                <i data-lucide="alert-triangle" class="w-5 h-5 text-yellow-600 mr-2"></i>
                                Exam Rules
                            </h3>
                            <ul class="space-y-2 text-gray-600 text-left">
                                <li>‚Ä¢ Timer starts when you begin the exam</li>
                                <li>‚Ä¢ You can pause and resume the timer</li>
                                <li>‚Ä¢ Exam auto-submits when time expires</li>
                                <li>‚Ä¢ Review all questions before submitting</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <button onclick="startMockExam()" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold px-12 py-4 text-lg rounded-lg">
                    <i data-lucide="play" class="w-5 h-5 mr-2 inline"></i>
                    Start Mock Exam
                </button>
                <p class="text-sm text-gray-600 mt-4">Good luck, Mpumi! Remember to manage your time wisely. üçÄ</p>
            </div>

            <!-- Exam Interface -->
            <div id="exam-interface" class="hidden">
                <!-- Timer -->
                <div class="bg-white rounded-xl shadow-lg p-4 mb-6 sticky top-24 z-40">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <div id="timer-display" class="text-3xl font-mono font-bold text-green-600 timer-text">3:00:00</div>
                            <div class="text-sm text-gray-600">Time remaining</div>
                        </div>
                        <div class="flex space-x-2">
                            <button id="timer-toggle" onclick="toggleTimer()" class="border border-gray-300 text-gray-700 hover:bg-gray-50 px-3 py-1 rounded flex items-center space-x-1">
                                <i data-lucide="pause" class="w-4 h-4"></i>
                                <span>Pause</span>
                            </button>
                            <button onclick="resetTimer()" class="border border-gray-300 text-gray-700 hover:bg-gray-50 px-3 py-1 rounded flex items-center space-x-1">
                                <i data-lucide="rotate-ccw" class="w-4 h-4"></i>
                                <span>Reset</span>
                            </button>
                        </div>
                    </div>
                    <div class="mt-3 w-full bg-gray-200 rounded-full h-2">
                        <div id="timer-progress" class="h-2 rounded-full bg-green-500 transition-all duration-1000" style="width: 100%"></div>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="bg-white rounded-xl shadow-lg p-4 mb-6">
                    <div class="flex justify-between items-center">
                        <div class="text-sm text-gray-600">Make sure to answer all questions before submitting your exam.</div>
                        <button id="submit-exam-btn" onclick="submitExam()" class="bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold px-4 py-2 rounded-lg">
                            <i data-lucide="check-circle" class="w-4 h-4 mr-2 inline"></i>
                            Submit Exam
                        </button>
                    </div>
                </div>

                <!-- Exam Questions Container -->
                <div id="exam-questions-container"></div>

                <!-- Exam Results -->
                <div id="exam-results" class="hidden bg-gradient-to-r from-gray-900 to-gray-800 text-white rounded-xl p-8 mt-8">
                    <div class="text-center">
                        <h3 class="text-3xl font-bold mb-8">Exam Complete!</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto mb-8">
                            <div class="bg-white/10 rounded-lg p-6">
                                <div id="exam-score" class="text-2xl font-bold text-blue-400 mb-2">0/0</div>
                                <div class="text-sm text-gray-300">MCQ Questions Correct</div>
                            </div>
                            <div class="bg-white/10 rounded-lg p-6">
                                <div id="exam-percentage" class="text-2xl font-bold text-green-400 mb-2">0%</div>
                                <div class="text-sm text-gray-300">MCQ Accuracy</div>
                            </div>
                            <div class="bg-white/10 rounded-lg p-6">
                                <div class="text-2xl font-bold text-purple-400 mb-2">5</div>
                                <div class="text-sm text-gray-300">Long Questions to Review</div>
                            </div>
                        </div>
                        <div class="flex flex-col sm:flex-row gap-4 justify-center">
                            <button onclick="resetMockExam()" class="border border-white text-white hover:bg-white hover:text-gray-800 px-6 py-2 rounded-lg transition-colors">
                                Take Another Mock Exam
                            </button>
                            <button onclick="showPage('practice')" class="bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-6 py-2 rounded-lg">
                                Practice More Questions
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 mt-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="text-center">
                <p class="text-gray-600">¬© 2024 Chemistry Mastery - Designed for Grade 12 Matric Success</p>
                <p class="text-sm text-gray-500 mt-2">Good luck with your chemistry exam, Mpumi! You've got this! üß™‚ú®</p>
            </div>
        </div>
    </footer>

    <script>
        // Extended Question Bank with 60+ questions
        const allQuestions = [
            // Original MCQ Questions
            {
                id: 'mcq1',
                type: 'mcq',
                question: 'What is the atomic number of carbon?',
                options: ['4', '6', '8', '12'],
                answer: '6',
                explanation: 'Carbon has 6 protons in its nucleus, which defines its atomic number.',
                topic: 'Atomic Structure',
                difficulty: 'easy'
            },
            {
                id: 'mcq2',
                type: 'mcq',
                question: 'Which of the following is a noble gas?',
                options: ['Oxygen', 'Nitrogen', 'Argon', 'Chlorine'],
                answer: 'Argon',
                explanation: 'Argon is a noble gas in Group 18 of the periodic table with a complete outer electron shell.',
                topic: 'Periodic Table',
                difficulty: 'easy'
            },
            {
                id: 'mcq3',
                type: 'mcq',
                question: 'What type of bond is formed between sodium and chlorine in NaCl?',
                options: ['Covalent bond', 'Ionic bond', 'Metallic bond', 'Hydrogen bond'],
                answer: 'Ionic bond',
                explanation: 'Sodium transfers an electron to chlorine, forming Na‚Å∫ and Cl‚Åª ions held together by electrostatic forces.',
                topic: 'Chemical Bonding',
                difficulty: 'medium'
            },
            {
                id: 'mcq4',
                type: 'mcq',
                question: 'According to Le Chatelier\'s principle, what happens when pressure is increased in the reaction N‚ÇÇ + 3H‚ÇÇ ‚áå 2NH‚ÇÉ?',
                options: ['Equilibrium shifts left', 'Equilibrium shifts right', 'No change in equilibrium', 'Reaction stops'],
                answer: 'Equilibrium shifts right',
                explanation: 'Increasing pressure favors the side with fewer gas molecules. The right side has 2 molecules vs 4 on the left.',
                topic: 'Chemical Equilibrium',
                difficulty: 'hard'
            },
            {
                id: 'mcq5',
                type: 'mcq',
                question: 'What is the pH of a 0.01 M HCl solution?',
                options: ['1', '2', '12', '14'],
                answer: '2',
                explanation: 'HCl is a strong acid that completely dissociates. pH = -log[H‚Å∫] = -log(0.01) = 2',
                topic: 'Acids and Bases',
                difficulty: 'medium'
            },
            {
                id: 'mcq6',
                type: 'mcq',
                question: 'Which functional group is present in alcohols?',
                options: ['-COOH', '-OH', '-CHO', '-NH‚ÇÇ'],
                answer: '-OH',
                explanation: 'Alcohols contain the hydroxyl functional group (-OH) attached to a carbon atom.',
                topic: 'Organic Chemistry',
                difficulty: 'easy'
            },
            {
                id: 'mcq7',
                type: 'mcq',
                question: 'What is the oxidation state of sulfur in SO‚ÇÑ¬≤‚Åª?',
                options: ['+4', '+6', '-2', '+2'],
                answer: '+6',
                explanation: 'In SO‚ÇÑ¬≤‚Åª: 4 oxygen atoms each with -2 charge = -8, overall charge is -2, so sulfur must be +6.',
                topic: 'Redox Reactions',
                difficulty: 'medium'
            },
            {
                id: 'mcq8',
                type: 'mcq',
                question: 'Which gas law relates pressure and volume at constant temperature?',
                options: ['Charles\'s Law', 'Boyle\'s Law', 'Gay-Lussac\'s Law', 'Avogadro\'s Law'],
                answer: 'Boyle\'s Law',
                explanation: 'Boyle\'s Law states that P‚ÇÅV‚ÇÅ = P‚ÇÇV‚ÇÇ at constant temperature and amount of gas.',
                topic: 'Gas Laws',
                difficulty: 'easy'
            },

            // Additional MCQ Questions (42 more to reach 50+)
            {
                id: 'mcq9',
                type: 'mcq',
                question: 'What is the electron configuration of oxygen (O)?',
                options: ['1s¬≤ 2s¬≤ 2p‚Å¥', '1s¬≤ 2s¬≤ 2p‚Å∂', '1s¬≤ 2s¬≤ 2p¬≤', '1s¬≤ 2s‚Å¥'],
                answer: '1s¬≤ 2s¬≤ 2p‚Å¥',
                explanation: 'Oxygen has 8 electrons: 2 in 1s, 2 in 2s, and 4 in 2p orbitals.',
                topic: 'Atomic Structure',
                difficulty: 'medium'
            },
            {
                id: 'mcq10',
                type: 'mcq',
                question: 'Which element has the highest electronegativity?',
                options: ['Oxygen', 'Fluorine', 'Nitrogen', 'Chlorine'],
                answer: 'Fluorine',
                explanation: 'Fluorine has the highest electronegativity (4.0 on the Pauling scale) of all elements.',
                topic: 'Periodic Table',
                difficulty: 'easy'
            },
            {
                id: 'mcq11',
                type: 'mcq',
                question: 'What is the molecular geometry of methane (CH‚ÇÑ)?',
                options: ['Linear', 'Trigonal planar', 'Tetrahedral', 'Bent'],
                answer: 'Tetrahedral',
                explanation: 'Methane has 4 bonding pairs around carbon with no lone pairs, giving it tetrahedral geometry.',
                topic: 'Chemical Bonding',
                difficulty: 'medium'
            },
            {
                id: 'mcq12',
                type: 'mcq',
                question: 'Which intermolecular force is strongest?',
                options: ['London dispersion forces', 'Dipole-dipole forces', 'Hydrogen bonding', 'Ion-dipole forces'],
                answer: 'Ion-dipole forces',
                explanation: 'Ion-dipole forces are the strongest intermolecular forces, followed by hydrogen bonding.',
                topic: 'Intermolecular Forces',
                difficulty: 'medium'
            },
            {
                id: 'mcq13',
                type: 'mcq',
                question: 'What is the conjugate base of HNO‚ÇÉ?',
                options: ['NO‚ÇÉ‚Åª', 'HNO‚ÇÇ', 'NO‚ÇÇ‚Åª', 'H‚ÇÇNO‚ÇÉ‚Å∫'],
                answer: 'NO‚ÇÉ‚Åª',
                explanation: 'The conjugate base is formed by removing a proton (H‚Å∫) from the acid. HNO‚ÇÉ ‚Üí NO‚ÇÉ‚Åª + H‚Å∫',
                topic: 'Acids and Bases',
                difficulty: 'easy'
            },
            {
                id: 'mcq14',
                type: 'mcq',
                question: 'Which of the following is an aldehyde?',
                options: ['CH‚ÇÉCOOH', 'CH‚ÇÉCHO', 'CH‚ÇÉOH', 'CH‚ÇÉCOCH‚ÇÉ'],
                answer: 'CH‚ÇÉCHO',
                explanation: 'CH‚ÇÉCHO (acetaldehyde) contains the aldehyde functional group (-CHO).',
                topic: 'Organic Chemistry',
                difficulty: 'medium'
            },
            {
                id: 'mcq15',
                type: 'mcq',
                question: 'In the reaction Zn + Cu¬≤‚Å∫ ‚Üí Zn¬≤‚Å∫ + Cu, which species is oxidized?',
                options: ['Zn', 'Cu¬≤‚Å∫', 'Zn¬≤‚Å∫', 'Cu'],
                answer: 'Zn',
                explanation: 'Zn loses electrons (oxidation number increases from 0 to +2), so it is oxidized.',
                topic: 'Redox Reactions',
                difficulty: 'medium'
            },
            {
                id: 'mcq16',
                type: 'mcq',
                question: 'At STP, what volume does 1 mole of any gas occupy?',
                options: ['22.4 L', '24.5 L', '20.0 L', '25.0 L'],
                answer: '22.4 L',
                explanation: 'At standard temperature and pressure (STP), 1 mole of any ideal gas occupies 22.4 L.',
                topic: 'Gas Laws',
                difficulty: 'easy'
            },
            {
                id: 'mcq17',
                type: 'mcq',
                question: 'Which quantum number describes the shape of an orbital?',
                options: ['Principal (n)', 'Angular momentum (l)', 'Magnetic (m‚Çó)', 'Spin (m‚Çõ)'],
                answer: 'Angular momentum (l)',
                explanation: 'The angular momentum quantum number (l) determines the shape of the orbital (s, p, d, f).',
                topic: 'Atomic Structure',
                difficulty: 'medium'
            },
            {
                id: 'mcq18',
                type: 'mcq',
                question: 'Which group contains the alkali metals?',
                options: ['Group 1', 'Group 2', 'Group 17', 'Group 18'],
                answer: 'Group 1',
                explanation: 'Group 1 elements (Li, Na, K, Rb, Cs, Fr) are the alkali metals.',
                topic: 'Periodic Table',
                difficulty: 'easy'
            },
            {
                id: 'mcq19',
                type: 'mcq',
                question: 'What type of hybridization does carbon have in ethene (C‚ÇÇH‚ÇÑ)?',
                options: ['sp¬≥', 'sp¬≤', 'sp', 'sp¬≥d'],
                answer: 'sp¬≤',
                explanation: 'Carbon in ethene forms 3 sigma bonds and 1 pi bond, requiring sp¬≤ hybridization.',
                topic: 'Chemical Bonding',
                difficulty: 'hard'
            },
            {
                id: 'mcq20',
                type: 'mcq',
                question: 'Which substance has the highest boiling point?',
                options: ['CH‚ÇÑ', 'NH‚ÇÉ', 'H‚ÇÇO', 'HF'],
                answer: 'H‚ÇÇO',
                explanation: 'Water has extensive hydrogen bonding and the highest boiling point among these compounds.',
                topic: 'Intermolecular Forces',
                difficulty: 'medium'
            },
            {
                id: 'mcq21',
                type: 'mcq',
                question: 'What is the pH of pure water at 25¬∞C?',
                options: ['0', '7', '14', '1'],
                answer: '7',
                explanation: 'Pure water is neutral with [H‚Å∫] = [OH‚Åª] = 1√ó10‚Åª‚Å∑ M, giving pH = 7.',
                topic: 'Acids and Bases',
                difficulty: 'easy'
            },
            {
                id: 'mcq22',
                type: 'mcq',
                question: 'Which functional group is present in ketones?',
                options: ['-OH', '-CHO', '-CO-', '-COOH'],
                answer: '-CO-',
                explanation: 'Ketones contain the carbonyl group (-CO-) bonded to two carbon atoms.',
                topic: 'Organic Chemistry',
                difficulty: 'easy'
            },
            {
                id: 'mcq23',
                type: 'mcq',
                question: 'In electrochemical cells, reduction occurs at the:',
                options: ['Anode', 'Cathode', 'Salt bridge', 'External circuit'],
                answer: 'Cathode',
                explanation: 'Reduction (gain of electrons) always occurs at the cathode in electrochemical cells.',
                topic: 'Redox Reactions',
                difficulty: 'medium'
            },
            {
                id: 'mcq24',
                type: 'mcq',
                question: 'Which gas law is represented by V‚ÇÅ/T‚ÇÅ = V‚ÇÇ/T‚ÇÇ?',
                options: ['Boyle\'s Law', 'Charles\'s Law', 'Gay-Lussac\'s Law', 'Combined Gas Law'],
                answer: 'Charles\'s Law',
                explanation: 'Charles\'s Law states that volume is directly proportional to temperature at constant pressure.',
                topic: 'Gas Laws',
                difficulty: 'easy'
            },
            {
                id: 'mcq25',
                type: 'mcq',
                question: 'How many electrons can the 3d subshell hold?',
                options: ['2', '6', '10', '14'],
                answer: '10',
                explanation: 'The d subshell has 5 orbitals, each can hold 2 electrons, so 3d can hold 10 electrons total.',
                topic: 'Atomic Structure',
                difficulty: 'medium'
            },
            {
                id: 'mcq26',
                type: 'mcq',
                question: 'Which element has the largest atomic radius in Period 3?',
                options: ['Na', 'Mg', 'Al', 'Cl'],
                answer: 'Na',
                explanation: 'Atomic radius decreases across a period due to increasing nuclear charge. Na is leftmost in Period 3.',
                topic: 'Periodic Table',
                difficulty: 'medium'
            },
            {
                id: 'mcq27',
                type: 'mcq',
                question: 'What is the bond angle in ammonia (NH‚ÇÉ)?',
                options: ['90¬∞', '107¬∞', '109.5¬∞', '120¬∞'],
                answer: '107¬∞',
                explanation: 'NH‚ÇÉ has trigonal pyramidal geometry with bond angles slightly less than tetrahedral due to lone pair repulsion.',
                topic: 'Chemical Bonding',
                difficulty: 'hard'
            },
            {
                id: 'mcq28',
                type: 'mcq',
                question: 'Which compound exhibits hydrogen bonding?',
                options: ['CH‚ÇÑ', 'CO‚ÇÇ', 'NH‚ÇÉ', 'CCl‚ÇÑ'],
                answer: 'NH‚ÇÉ',
                explanation: 'NH‚ÇÉ can form hydrogen bonds because N is highly electronegative and bonded to H.',
                topic: 'Intermolecular Forces',
                difficulty: 'medium'
            },
            {
                id: 'mcq29',
                type: 'mcq',
                question: 'What is the molarity of a solution containing 0.5 mol of solute in 2 L of solution?',
                options: ['0.25 M', '0.5 M', '1.0 M', '2.0 M'],
                answer: '0.25 M',
                explanation: 'Molarity = moles of solute / liters of solution = 0.5 mol / 2 L = 0.25 M',
                topic: 'Solutions',
                difficulty: 'easy'
            },
            {
                id: 'mcq30',
                type: 'mcq',
                question: 'Which is the strongest acid?',
                options: ['HF', 'HCl', 'HBr', 'HI'],
                answer: 'HI',
                explanation: 'Acid strength increases down the halogen group. HI is the strongest haloacid.',
                topic: 'Acids and Bases',
                difficulty: 'medium'
            },
            {
                id: 'mcq31',
                type: 'mcq',
                question: 'What is the IUPAC name for CH‚ÇÉCH‚ÇÇOH?',
                options: ['Methanol', 'Ethanol', 'Propanol', 'Butanol'],
                answer: 'Ethanol',
                explanation: 'CH‚ÇÉCH‚ÇÇOH has 2 carbon atoms with an -OH group, making it ethanol.',
                topic: 'Organic Chemistry',
                difficulty: 'easy'
            },
            {
                id: 'mcq32',
                type: 'mcq',
                question: 'In a galvanic cell, electrons flow from:',
                options: ['Cathode to anode', 'Anode to cathode', 'Positive to negative', 'Salt bridge to electrodes'],
                answer: 'Anode to cathode',
                explanation: 'In galvanic cells, electrons flow from the anode (oxidation site) to the cathode (reduction site).',
                topic: 'Redox Reactions',
                difficulty: 'medium'
            },
            {
                id: 'mcq33',
                type: 'mcq',
                question: 'What happens to gas pressure when temperature increases at constant volume?',
                options: ['Decreases', 'Increases', 'Stays the same', 'Becomes zero'],
                answer: 'Increases',
                explanation: 'Gay-Lussac\'s Law: pressure is directly proportional to temperature at constant volume.',
                topic: 'Gas Laws',
                difficulty: 'easy'
            },
            {
                id: 'mcq34',
                type: 'mcq',
                question: 'Which orbital is filled first according to the Aufbau principle?',
                options: ['4s', '3d', '4p', '3p'],
                answer: '4s',
                explanation: 'The 4s orbital has lower energy than 3d and fills first according to the Aufbau principle.',
                topic: 'Atomic Structure',
                difficulty: 'medium'
            },
            {
                id: 'mcq35',
                type: 'mcq',
                question: 'Which element has the highest first ionization energy in Period 2?',
                options: ['Li', 'C', 'N', 'Ne'],
                answer: 'Ne',
                explanation: 'Ionization energy increases across a period. Neon has the highest first ionization energy in Period 2.',
                topic: 'Periodic Table',
                difficulty: 'medium'
            },
            {
                id: 'mcq36',
                type: 'mcq',
                question: 'What is the hybridization of carbon in acetylene (C‚ÇÇH‚ÇÇ)?',
                options: ['sp¬≥', 'sp¬≤', 'sp', 'sp¬≥d'],
                answer: 'sp',
                explanation: 'Carbon in acetylene forms 2 sigma bonds and 2 pi bonds, requiring sp hybridization.',
                topic: 'Chemical Bonding',
                difficulty: 'hard'
            },
            {
                id: 'mcq37',
                type: 'mcq',
                question: 'Which has the strongest London dispersion forces?',
                options: ['He', 'Ne', 'Ar', 'Kr'],
                answer: 'Kr',
                explanation: 'London dispersion forces increase with molecular size and number of electrons. Kr is largest.',
                topic: 'Intermolecular Forces',
                difficulty: 'medium'
            },
            {
                id: 'mcq38',
                type: 'mcq',
                question: 'What is the concentration of OH‚Åª ions in a solution with pH = 3?',
                options: ['1√ó10‚Åª¬≥ M', '1√ó10‚Åª¬π¬π M', '1√ó10‚Åª¬π¬π M', '3√ó10‚Åª¬π M'],
                answer: '1√ó10‚Åª¬π¬π M',
                explanation: 'pOH = 14 - pH = 14 - 3 = 11, so [OH‚Åª] = 1√ó10‚Åª¬π¬π M',
                topic: 'Acids and Bases',
                difficulty: 'medium'
            },
            {
                id: 'mcq39',
                type: 'mcq',
                question: 'Which compound is an ester?',
                options: ['CH‚ÇÉCOOH', 'CH‚ÇÉCOOCH‚ÇÉ', 'CH‚ÇÉCHO', 'CH‚ÇÉOH'],
                answer: 'CH‚ÇÉCOOCH‚ÇÉ',
                explanation: 'CH‚ÇÉCOOCH‚ÇÉ (methyl acetate) contains the ester functional group (-COO-).',
                topic: 'Organic Chemistry',
                difficulty: 'medium'
            },
            {
                id: 'mcq40',
                type: 'mcq',
                question: 'What is the standard cell potential if E¬∞cathode = +0.80 V and E¬∞anode = -0.76 V?',
                options: ['+0.04 V', '+1.56 V', '-0.04 V', '-1.56 V'],
                answer: '+1.56 V',
                explanation: 'E¬∞cell = E¬∞cathode - E¬∞anode = 0.80 - (-0.76) = +1.56 V',
                topic: 'Redox Reactions',
                difficulty: 'hard'
            },
            {
                id: 'mcq41',
                type: 'mcq',
                question: 'How many moles of gas are in a 44.8 L container at STP?',
                options: ['1 mol', '2 mol', '0.5 mol', '4 mol'],
                answer: '2 mol',
                explanation: 'At STP, 1 mole = 22.4 L, so 44.8 L = 44.8/22.4 = 2 moles',
                topic: 'Gas Laws',
                difficulty: 'easy'
            },
            {
                id: 'mcq42',
                type: 'mcq',
                question: 'Which subshell is being filled in the transition metals?',
                options: ['s', 'p', 'd', 'f'],
                answer: 'd',
                explanation: 'Transition metals are characterized by the filling of d orbitals.',
                topic: 'Atomic Structure',
                difficulty: 'easy'
            },
            {
                id: 'mcq43',
                type: 'mcq',
                question: 'Which property decreases down a group in the periodic table?',
                options: ['Atomic radius', 'Ionization energy', 'Atomic mass', 'Number of electron shells'],
                answer: 'Ionization energy',
                explanation: 'Ionization energy decreases down a group as electrons are farther from the nucleus.',
                topic: 'Periodic Table',
                difficulty: 'medium'
            },
            {
                id: 'mcq44',
                type: 'mcq',
                question: 'What is the molecular geometry of SF‚ÇÜ?',
                options: ['Tetrahedral', 'Trigonal bipyramidal', 'Octahedral', 'Square planar'],
                answer: 'Octahedral',
                explanation: 'SF‚ÇÜ has 6 bonding pairs around sulfur with no lone pairs, giving octahedral geometry.',
                topic: 'Chemical Bonding',
                difficulty: 'hard'
            },
            {
                id: 'mcq45',
                type: 'mcq',
                question: 'Which substance is most soluble in water?',
                options: ['CCl‚ÇÑ', 'CH‚ÇÉOH', 'C‚ÇÜH‚ÇÜ', 'C‚ÇàH‚ÇÅ‚Çà'],
                answer: 'CH‚ÇÉOH',
                explanation: 'Methanol (CH‚ÇÉOH) can form hydrogen bonds with water, making it highly soluble.',
                topic: 'Solutions',
                difficulty: 'medium'
            },
            {
                id: 'mcq46',
                type: 'mcq',
                question: 'What is the pH of a 0.001 M NaOH solution?',
                options: ['3', '11', '1', '13'],
                answer: '11',
                explanation: 'pOH = -log(0.001) = 3, so pH = 14 - 3 = 11',
                topic: 'Acids and Bases',
                difficulty: 'medium'
            },
            {
                id: 'mcq47',
                type: 'mcq',
                question: 'Which reaction represents addition polymerization?',
                options: ['nCH‚ÇÇ=CH‚ÇÇ ‚Üí (-CH‚ÇÇ-CH‚ÇÇ-)‚Çô', 'Condensation', 'Hydrolysis', 'Substitution'],
                answer: 'nCH‚ÇÇ=CH‚ÇÇ ‚Üí (-CH‚ÇÇ-CH‚ÇÇ-)‚Çô',
                explanation: 'Addition polymerization involves monomers with double bonds joining without losing atoms.',
                topic: 'Organic Chemistry',
                difficulty: 'medium'
            },
            {
                id: 'mcq48',
                type: 'mcq',
                question: 'In which direction do electrons flow in an electrolytic cell?',
                options: ['From cathode to anode', 'From anode to cathode', 'No electron flow', 'Random direction'],
                answer: 'From anode to cathode',
                explanation: 'Even in electrolytic cells, electrons flow from anode to cathode through the external circuit.',
                topic: 'Redox Reactions',
                difficulty: 'medium'
            },
            {
                id: 'mcq49',
                type: 'mcq',
                question: 'What is the relationship between pressure and volume in Boyle\'s Law?',
                options: ['Directly proportional', 'Inversely proportional', 'No relationship', 'Exponential'],
                answer: 'Inversely proportional',
                explanation: 'Boyle\'s Law: P ‚àù 1/V at constant temperature. As pressure increases, volume decreases.',
                topic: 'Gas Laws',
                difficulty: 'easy'
            },
            {
                id: 'mcq50',
                type: 'mcq',
                question: 'Which element has the electron configuration [Ne] 3s¬π?',
                options: ['Na', 'Mg', 'Al', 'Si'],
                answer: 'Na',
                explanation: 'Sodium (Na) has 11 electrons: [Ne] represents the first 10, plus 1 electron in 3s.',
                topic: 'Atomic Structure',
                difficulty: 'medium'
            },

            // Long Questions
            {
                id: 'long1',
                type: 'long',
                question: 'Calculate the molarity of a solution prepared by dissolving 5.85 g of NaCl in 250 mL of water. Show all your working. (Molar mass of NaCl = 58.5 g/mol)',
                answer: '0.4 M',
                explanation: `Solution:
Step 1: Calculate moles of NaCl
moles = mass √∑ molar mass = 5.85 g √∑ 58.5 g/mol = 0.1 mol

Step 2: Convert volume to liters
Volume = 250 mL = 0.25 L

Step 3: Calculate molarity
Molarity = moles √∑ volume in L = 0.1 mol √∑ 0.25 L = 0.4 M

Therefore, the molarity of the NaCl solution is 0.4 M.`,
                topic: 'Solutions and Concentration',
                difficulty: 'medium'
            },
            {
                id: 'long2',
                type: 'long',
                question: 'Balance the following redox equation and identify the oxidizing and reducing agents: Fe¬≤‚Å∫ + MnO‚ÇÑ‚Åª ‚Üí Fe¬≥‚Å∫ + Mn¬≤‚Å∫ (in acidic solution)',
                answer: '5Fe¬≤‚Å∫ + MnO‚ÇÑ‚Åª + 8H‚Å∫ ‚Üí 5Fe¬≥‚Å∫ + Mn¬≤‚Å∫ + 4H‚ÇÇO',
                explanation: `Solution:
Step 1: Write half-reactions
Oxidation: Fe¬≤‚Å∫ ‚Üí Fe¬≥‚Å∫ + e‚Åª
Reduction: MnO‚ÇÑ‚Åª + 8H‚Å∫ + 5e‚Åª ‚Üí Mn¬≤‚Å∫ + 4H‚ÇÇO

Step 2: Balance electrons
Multiply oxidation by 5: 5Fe¬≤‚Å∫ ‚Üí 5Fe¬≥‚Å∫ + 5e‚Åª

Step 3: Add half-reactions
5Fe¬≤‚Å∫ + MnO‚ÇÑ‚Åª + 8H‚Å∫ ‚Üí 5Fe¬≥‚Å∫ + Mn¬≤‚Å∫ + 4H‚ÇÇO

Oxidizing agent: MnO‚ÇÑ‚Åª (gets reduced)
Reducing agent: Fe¬≤‚Å∫ (gets oxidized)`,
                topic: 'Redox Reactions',
                difficulty: 'hard'
            },
            {
                id: 'long3',
                type: 'long',
                question: 'Explain the trend in atomic radius across Period 3 of the periodic table. Include the underlying reason for this trend.',
                answer: 'Atomic radius decreases from left to right across Period 3',
                explanation: `Solution:
Trend: Atomic radius decreases from left to right across Period 3 (Na > Mg > Al > Si > P > S > Cl > Ar)

Reason:
1. All elements in Period 3 have the same number of electron shells (3 shells)
2. As we move from left to right, the nuclear charge (number of protons) increases
3. The increased positive charge in the nucleus pulls the electrons more strongly
4. This stronger nuclear attraction pulls the electron cloud closer to the nucleus
5. Therefore, the atomic radius decreases across the period

Example: Na has 11 protons while Cl has 17 protons, so Cl has a smaller atomic radius despite having the same number of electron shells.`,
                topic: 'Periodic Trends',
                difficulty: 'medium'
            },
            {
                id: 'long4',
                type: 'long',
                question: 'A 2.5 L container holds nitrogen gas at 25¬∞C and 2.0 atm pressure. Calculate the number of moles of nitrogen gas present. (R = 0.0821 L¬∑atm/mol¬∑K)',
                answer: '0.203 mol',
                explanation: `Solution:
Given:
- Volume (V) = 2.5 L
- Temperature (T) = 25¬∞C = 25 + 273 = 298 K
- Pressure (P) = 2.0 atm
- R = 0.0821 L¬∑atm/mol¬∑K

Using the ideal gas law: PV = nRT

Rearranging for n: n = PV/RT

n = (2.0 atm √ó 2.5 L) / (0.0821 L¬∑atm/mol¬∑K √ó 298 K)
n = 5.0 / 24.46
n = 0.203 mol

Therefore, there are 0.203 moles of nitrogen gas present.`,
                topic: 'Gas Laws',
                difficulty: 'medium'
            },
            {
                id: 'long5',
                type: 'long',
                question: 'Draw the Lewis structure for water (H‚ÇÇO) and explain its molecular geometry using VSEPR theory.',
                answer: 'Bent/Angular geometry with bond angle ~104.5¬∞',
                explanation: `Solution:
Lewis Structure of H‚ÇÇO:
    H
    |
O - H  (with 2 lone pairs on oxygen)

VSEPR Analysis:
1. Central atom: Oxygen (O)
2. Valence electrons on O: 6
3. Electrons from H atoms: 2 √ó 1 = 2
4. Total valence electrons: 8

5. Electron arrangement around O:
   - 2 bonding pairs (O-H bonds)
   - 2 lone pairs

6. Electron geometry: Tetrahedral (4 electron pairs)
7. Molecular geometry: Bent/Angular (considering only atoms, not lone pairs)

8. Bond angle: ~104.5¬∞ (less than tetrahedral 109.5¬∞ due to lone pair repulsion)

The bent shape results from the repulsion between the lone pairs and bonding pairs, with lone pairs taking up more space.`,
                topic: 'Chemical Bonding',
                difficulty: 'hard'
            },
            {
                id: 'long6',
                type: 'long',
                question: 'Calculate the pH of a buffer solution containing 0.1 M CH‚ÇÉCOOH and 0.1 M CH‚ÇÉCOONa. (Ka for CH‚ÇÉCOOH = 1.8 √ó 10‚Åª‚Åµ)',
                answer: 'pH = 4.74',
                explanation: `Solution:
This is a buffer system with weak acid (CH‚ÇÉCOOH) and its conjugate base (CH‚ÇÉCOO‚Åª).

Using the Henderson-Hasselbalch equation:
pH = pKa + log([A‚Åª]/[HA])

Step 1: Calculate pKa
pKa = -log(Ka) = -log(1.8 √ó 10‚Åª‚Åµ) = 4.74

Step 2: Apply Henderson-Hasselbalch equation
pH = 4.74 + log([CH‚ÇÉCOO‚Åª]/[CH‚ÇÉCOOH])
pH = 4.74 + log(0.1/0.1)
pH = 4.74 + log(1)
pH = 4.74 + 0
pH = 4.74

Therefore, the pH of the buffer solution is 4.74.`,
                topic: 'Acids and Bases',
                difficulty: 'hard'
            },
            {
                id: 'long7',
                type: 'long',
                question: 'Explain the mechanism of nucleophilic substitution in the reaction between CH‚ÇÉBr and OH‚Åª to form CH‚ÇÉOH.',
                answer: 'SN2 mechanism with backside attack',
                explanation: `Solution:
This reaction proceeds via an SN2 (Substitution Nucleophilic Bimolecular) mechanism.

Mechanism:
1. The nucleophile (OH‚Åª) approaches the carbon atom from the backside (opposite to the leaving group Br‚Åª)
2. As OH‚Åª forms a bond with carbon, the C-Br bond simultaneously breaks
3. This occurs in a single concerted step through a transition state
4. The result is inversion of configuration at the carbon center

Reaction: CH‚ÇÉBr + OH‚Åª ‚Üí CH‚ÇÉOH + Br‚Åª

Key features of SN2:
- Bimolecular (rate depends on both reactants)
- Concerted mechanism (one step)
- Backside attack leads to inversion
- Favored by primary carbons and strong nucleophiles
- Rate = k[CH‚ÇÉBr][OH‚Åª]

The transition state shows partial bonding between C-OH and C-Br with trigonal bipyramidal geometry.`,
                topic: 'Organic Chemistry',
                difficulty: 'hard'
            },
            {
                id: 'long8',
                type: 'long',
                question: 'Calculate the standard enthalpy change for the reaction: 2H‚ÇÇ(g) + O‚ÇÇ(g) ‚Üí 2H‚ÇÇO(l) using bond enthalpies. (Bond enthalpies: H-H = 436 kJ/mol, O=O = 498 kJ/mol, O-H = 463 kJ/mol)',
                answer: 'ŒîH¬∞ = -482 kJ/mol',
                explanation: `Solution:
Using bond enthalpies: ŒîH = Bonds broken - Bonds formed

Step 1: Identify bonds broken (reactants)
- 2 mol H-H bonds: 2 √ó 436 = 872 kJ
- 1 mol O=O bonds: 1 √ó 498 = 498 kJ
Total energy required = 872 + 498 = 1370 kJ

Step 2: Identify bonds formed (products)
- In 2H‚ÇÇO, there are 4 O-H bonds: 4 √ó 463 = 1852 kJ
Total energy released = 1852 kJ

Step 3: Calculate ŒîH
ŒîH = Energy required - Energy released
ŒîH = 1370 - 1852 = -482 kJ

Therefore, ŒîH¬∞ = -482 kJ for the formation of 2 mol H‚ÇÇO.
Per mole of H‚ÇÇO: ŒîH¬∞ = -241 kJ/mol

The negative value indicates this is an exothermic reaction.`,
                topic: 'Thermochemistry',
                difficulty: 'hard'
            }
        ];

        // Global variables
        let currentQuestions = [];
        let mcqQuestions = [];
        let selectedAnswers = {};
        let isSubmitted = false;
        let examTimer = null;
        let examTimeLeft = 180 * 60; // 3 hours in seconds
        let isTimerActive = false;
        let currentPage = 'home';
        let currentTopic = 'all';

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            lucide.createIcons();
            showPage('home');
            initializeQuestionBanks();
        });

        // Initialize question banks
        function initializeQuestionBanks() {
            mcqQuestions = allQuestions.filter(q => q.type === 'mcq');
            currentQuestions = [...allQuestions];
        }

        // Mobile menu toggle
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        }

        // Navigation
        function showPage(pageId) {
            currentPage = pageId;
            
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.add('hidden');
            });
            
            // Show selected page
            document.getElementById(pageId + '-page').classList.remove('hidden');
            
            // Show/hide section navigation
            const sectionNav = document.getElementById('section-nav');
            if (pageId === 'home') {
                sectionNav.classList.add('hidden');
            } else {
                sectionNav.classList.remove('hidden');
            }
            
            // Update navigation buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Add active class to current page button
            document.querySelectorAll('.nav-btn').forEach(btn => {
                if (btn.textContent.toLowerCase().includes(pageId.replace('-', ' '))) {
                    btn.classList.add('active');
                }
            });
            
            // Initialize page content
            if (pageId === 'practice') {
                initializePractice();
            } else if (pageId === 'mcq-only') {
                initializeMCQ();
            } else if (pageId === 'mock-exam') {
                resetMockExam();
            }
            
            // Hide mobile menu
            document.getElementById('mobile-menu').classList.add('hidden');
            
            // Recreate icons after content changes
            setTimeout(() => lucide.createIcons(), 100);
        }

        // Topic filtering
        function filterByTopic(topic) {
            currentTopic = topic;
            
            if (currentPage === 'practice') {
                if (topic === 'all') {
                    currentQuestions = [...allQuestions];
                } else {
                    currentQuestions = allQuestions.filter(q => q.topic === topic);
                }
                selectedAnswers = {};
                isSubmitted = false;
                renderPracticeQuestions();
                document.getElementById('practice-score').classList.add('hidden');
            } else if (currentPage === 'mcq-only') {
                if (topic === 'all') {
                    mcqQuestions = allQuestions.filter(q => q.type === 'mcq');
                } else {
                    mcqQuestions = allQuestions.filter(q => q.type === 'mcq' && q.topic === topic);
                }
                selectedAnswers = {};
                isSubmitted = false;
                renderMCQQuestions();
                document.getElementById('mcq-score').classList.add('hidden');
            }
        }

        // Shuffle array utility
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        // Practice Questions Functions
        function initializePractice() {
            if (currentTopic === 'all') {
                currentQuestions = [...allQuestions];
            } else {
                currentQuestions = allQuestions.filter(q => q.topic === currentTopic);
            }
            selectedAnswers = {};
            isSubmitted = false;
            renderPracticeQuestions();
            document.getElementById('practice-score').classList.add('hidden');
        }

        function shuffleQuestions(context) {
            if (context === 'practice' && !isSubmitted) {
                currentQuestions = shuffleArray(currentQuestions);
                selectedAnswers = {};
                renderPracticeQuestions();
            } else if (context === 'mcq' && !isSubmitted) {
                mcqQuestions = shuffleArray(mcqQuestions);
                selectedAnswers = {};
                renderMCQQuestions();
            }
        }

        function resetPractice() {
            initializePractice();
        }

        function submitPractice() {
            isSubmitted = true;
            renderPracticeQuestions();
            showPracticeScore();
        }

        function showPracticeScore() {
            const mcqInPractice = currentQuestions.filter(q => q.type === 'mcq');
            const correctAnswers = mcqInPractice.filter(q => selectedAnswers[q.id] === q.answer).length;
            const percentage = mcqInPractice.length > 0 ? Math.round((correctAnswers / mcqInPractice.length) * 100) : 0;
            
            document.getElementById('score-display').textContent = `${percentage}%`;
            document.getElementById('practice-score').classList.remove('hidden');
        }

        function renderPracticeQuestions() {
            const container = document.getElementById('practice-questions-container');
            container.innerHTML = '';

            currentQuestions.forEach((question, index) => {
                const questionCard = createQuestionCard(question, index + 1, 'practice');
                container.appendChild(questionCard);
            });

            lucide.createIcons();
        }

        // MCQ Only Functions
        function initializeMCQ() {
            if (currentTopic === 'all') {
                mcqQuestions = allQuestions.filter(q => q.type === 'mcq');
            } else {
                mcqQuestions = allQuestions.filter(q => q.type === 'mcq' && q.topic === currentTopic);
            }
            selectedAnswers = {};
            isSubmitted = false;
            renderMCQQuestions();
            document.getElementById('mcq-score').classList.add('hidden');
        }

        function loadMoreMCQs() {
            // Shuffle and show different MCQs
            const allMCQs = allQuestions.filter(q => q.type === 'mcq');
            if (currentTopic !== 'all') {
                mcqQuestions = shuffleArray(allMCQs.filter(q => q.topic === currentTopic));
            } else {
                mcqQuestions = shuffleArray(allMCQs);
            }
            selectedAnswers = {};
            isSubmitted = false;
            renderMCQQuestions();
            document.getElementById('mcq-score').classList.add('hidden');
        }

        function resetMCQ() {
            initializeMCQ();
        }

        function submitMCQ() {
            isSubmitted = true;
            renderMCQQuestions();
            showMCQScore();
        }

        function showMCQScore() {
            const correctAnswers = mcqQuestions.filter(q => selectedAnswers[q.id] === q.answer).length;
            const percentage = mcqQuestions.length > 0 ? Math.round((correctAnswers / mcqQuestions.length) * 100) : 0;
            
            document.getElementById('mcq-score-display').textContent = `${correctAnswers}/${mcqQuestions.length}`;
            document.getElementById('mcq-percentage-display').textContent = `${percentage}%`;
            document.getElementById('mcq-total-display').textContent = mcqQuestions.length;
            document.getElementById('mcq-score').classList.remove('hidden');
        }

        function renderMCQQuestions() {
            const container = document.getElementById('mcq-questions-container');
            container.innerHTML = '';

            mcqQuestions.forEach((question, index) => {
                const questionCard = createQuestionCard(question, index + 1, 'mcq');
                container.appendChild(questionCard);
            });

            lucide.createIcons();
        }

        // Mock Exam Functions
        function startMockExam() {
            // Select balanced questions for exam
            const examMCQs = shuffleArray(allQuestions.filter(q => q.type === 'mcq')).slice(0, 10);
            const examLongs = shuffleArray(allQuestions.filter(q => q.type === 'long')).slice(0, 5);
            
            currentQuestions = shuffleArray([...examMCQs, ...examLongs]);
            selectedAnswers = {};
            isSubmitted = false;
            
            document.getElementById('exam-setup').classList.add('hidden');
            document.getElementById('exam-interface').classList.remove('hidden');
            
            startTimer();
            renderExamQuestions();
        }

        function resetMockExam() {
            document.getElementById('exam-setup').classList.remove('hidden');
            document.getElementById('exam-interface').classList.add('hidden');
            document.getElementById('exam-results').classList.add('hidden');
            
            examTimeLeft = 180 * 60;
            isTimerActive = false;
            if (examTimer) clearInterval(examTimer);
            
            selectedAnswers = {};
            isSubmitted = false;
        }

        function submitExam() {
            isSubmitted = true;
            isTimerActive = false;
            if (examTimer) clearInterval(examTimer);
            
            renderExamQuestions();
            showExamResults();
        }

        function showExamResults() {
            const mcqInExam = currentQuestions.filter(q => q.type === 'mcq');
            const correctAnswers = mcqInExam.filter(q => selectedAnswers[q.id] === q.answer).length;
            const percentage = mcqInExam.length > 0 ? Math.round((correctAnswers / mcqInExam.length) * 100) : 0;
            
            document.getElementById('exam-score').textContent = `${correctAnswers}/${mcqInExam.length}`;
            document.getElementById('exam-percentage').textContent = `${percentage}%`;
            document.getElementById('exam-results').classList.remove('hidden');
        }

        function renderExamQuestions() {
            const container = document.getElementById('exam-questions-container');
            container.innerHTML = '';

            currentQuestions.forEach((question, index) => {
                const questionCard = createQuestionCard(question, index + 1, 'exam');
                container.appendChild(questionCard);
            });

            lucide.createIcons();
        }

        // Timer Functions
        function startTimer() {
            isTimerActive = true;
            examTimer = setInterval(updateTimer, 1000);
        }

        function toggleTimer() {
            isTimerActive = !isTimerActive;
            const toggleBtn = document.getElementById('timer-toggle');
            const icon = toggleBtn.querySelector('i');
            const text = toggleBtn.querySelector('span');
            
            if (isTimerActive) {
                icon.setAttribute('data-lucide', 'pause');
                text.textContent = 'Pause';
                if (!examTimer) {
                    examTimer = setInterval(updateTimer, 1000);
                }
            } else {
                icon.setAttribute('data-lucide', 'play');
                text.textContent = 'Start';
            }
            
            lucide.createIcons();
        }

        function resetTimer() {
            examTimeLeft = 180 * 60;
            isTimerActive = false;
            if (examTimer) {
                clearInterval(examTimer);
                examTimer = null;
            }
            updateTimerDisplay();
        }

        function updateTimer() {
            if (!isTimerActive) return;
            
            examTimeLeft--;
            updateTimerDisplay();
            
            if (examTimeLeft <= 0) {
                clearInterval(examTimer);
                submitExam();
                alert('Time\'s up! Your exam has been automatically submitted.');
            }
        }

        function updateTimerDisplay() {
            const hours = Math.floor(examTimeLeft / 3600);
            const minutes = Math.floor((examTimeLeft % 3600) / 60);
            const seconds = examTimeLeft % 60;
            
            const timeString = hours > 0 
                ? `${hours}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`
                : `${minutes}:${seconds.toString().padStart(2, '0')}`;
            
            const timerDisplay = document.getElementById('timer-display');
            const timerProgress = document.getElementById('timer-progress');
            
            if (timerDisplay) {
                timerDisplay.textContent = timeString;
                
                // Update color based on time remaining
                const percentage = (examTimeLeft / (180 * 60)) * 100;
                if (percentage > 50) {
                    timerDisplay.className = 'text-3xl font-mono font-bold text-green-600 timer-text';
                } else if (percentage > 25) {
                    timerDisplay.className = 'text-3xl font-mono font-bold text-yellow-600 timer-text';
                } else {
                    timerDisplay.className = 'text-3xl font-mono font-bold text-red-600 timer-text';
                }
            }
            
            if (timerProgress) {
                const progressPercentage = (examTimeLeft / (180 * 60)) * 100;
                timerProgress.style.width = `${progressPercentage}%`;
                
                if (progressPercentage > 50) {
                    timerProgress.className = 'h-2 rounded-full bg-green-500 transition-all duration-1000';
                } else if (progressPercentage > 25) {
                    timerProgress.className = 'h-2 rounded-full bg-yellow-500 transition-all duration-1000';
                } else {
                    timerProgress.className = 'h-2 rounded-full bg-red-500 transition-all duration-1000';
                }
            }
        }

        // Question Card Creation
        function createQuestionCard(question, questionNumber, context) {
            const card = document.createElement('div');
            card.className = 'bg-white rounded-xl shadow-lg mb-6';
            
            const difficultyColors = {
                easy: 'bg-green-100 text-green-800',
                medium: 'bg-yellow-100 text-yellow-800',
                hard: 'bg-red-100 text-red-800'
            };

            let optionsHtml = '';
            if (question.type === 'mcq' && question.options) {
                optionsHtml = question.options.map((option, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedAnswers[question.id] === option;
                    const isCorrect = option === question.answer;
                    
                    let buttonClass = 'w-full text-left justify-start h-auto p-3 border rounded-lg mb-2 transition-all ';
                    let iconHtml = '';
                    
                    if (isSubmitted) {
                        if (isCorrect) {
                            buttonClass += 'bg-green-100 border-green-500 text-green-800';
                            iconHtml = '<i data-lucide="check-circle" class="w-4 h-4 text-green-600 ml-2"></i>';
                        } else if (isSelected && !isCorrect) {
                            buttonClass += 'bg-red-100 border-red-500 text-red-800';
                            iconHtml = '<i data-lucide="x-circle" class="w-4 h-4 text-red-600 ml-2"></i>';
                        } else {
                            buttonClass += 'bg-gray-50 border-gray-300 text-gray-600';
                        }
                    } else if (isSelected) {
                        buttonClass += 'bg-blue-100 border-blue-500 text-blue-800';
                    } else {
                        buttonClass += 'bg-white border-gray-300 hover:bg-gray-50';
                    }

                    return `
                        <button 
                            class="${buttonClass}" 
                            onclick="selectAnswer('${question.id}', '${option}')"
                            ${isSubmitted ? 'disabled' : ''}
                        >
                            <div class="flex items-center justify-between w-full">
                                <span><strong>${optionLetter}.</strong> ${option}</span>
                                ${iconHtml}
                            </div>
                        </button>
                    `;
                }).join('');
            }

            let memoHtml = '';
            const showMemo = isSubmitted || question.showMemo;
            if (showMemo) {
                memoHtml = `
                    <div class="mt-4 p-4 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                        <h4 class="font-semibold text-blue-800 mb-2">Solution & Explanation:</h4>
                        <div class="text-blue-700 whitespace-pre-line">${question.explanation}</div>
                        ${question.type === 'mcq' ? `
                            <div class="mt-2 p-2 bg-blue-100 rounded">
                                <strong>Correct Answer: ${question.answer}</strong>
                            </div>
                        ` : ''}
                    </div>
                `;
            }

            let resultBadge = '';
            if (isSubmitted && question.type === 'mcq') {
                const isCorrect = selectedAnswers[question.id] === question.answer;
                resultBadge = `
                    <div class="flex items-center space-x-2">
                        <span class="px-3 py-1 rounded-full text-sm font-medium ${isCorrect ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">
                            <i data-lucide="${isCorrect ? 'check-circle' : 'x-circle'}" class="w-3 h-3 mr-1 inline"></i>
                            ${isCorrect ? 'Correct' : 'Incorrect'}
                        </span>
                    </div>
                `;
            }

            card.innerHTML = `
                <div class="bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-t-xl">
                    <div class="flex justify-between items-start">
                        <h3 class="text-lg font-semibold text-gray-800">Question ${questionNumber}</h3>
                        <div class="flex space-x-2">
                            <span class="px-2 py-1 text-xs border border-gray-300 rounded">${question.topic}</span>
                            <span class="px-2 py-1 text-xs rounded ${difficultyColors[question.difficulty]}">${question.difficulty}</span>
                        </div>
                    </div>
                </div>
                
                <div class="p-6">
                    <div class="mb-4">
                        <p class="text-gray-700 leading-relaxed whitespace-pre-line">${question.question}</p>
                    </div>

                    ${optionsHtml}

                    ${question.type === 'long' && !isSubmitted ? `
                        <div class="mb-4 p-4 bg-gray-50 rounded-lg">
                            <p class="text-sm text-gray-600 italic">
                                This is a long-answer question. Write your solution on paper and then check the memo for the complete answer.
                            </p>
                        </div>
                    ` : ''}

                    <div class="flex justify-between items-center">
                        <button 
                            onclick="toggleMemo('${question.id}')" 
                            class="flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"
                        >
                            <i data-lucide="${showMemo ? 'eye-off' : 'eye'}" class="w-4 h-4"></i>
                            <span>${showMemo ? 'Hide Memo' : 'Show Memo'}</span>
                        </button>
                        ${resultBadge}
                    </div>

                    ${memoHtml}
                </div>
            `;

            return card;
        }

        // Answer Selection
        function selectAnswer(questionId, answer) {
            if (!isSubmitted) {
                selectedAnswers[questionId] = answer;
                
                // Re-render based on current context
                if (currentPage === 'practice') {
                    renderPracticeQuestions();
                } else if (currentPage === 'mcq-only') {
                    renderMCQQuestions();
                } else if (currentPage === 'mock-exam') {
                    renderExamQuestions();
                }
            }
        }

        // Memo Toggle
        function toggleMemo(questionId) {
            let targetQuestions;
            if (currentPage === 'mcq-only') {
                targetQuestions = mcqQuestions;
            } else {
                targetQuestions = currentQuestions;
            }
            
            const question = targetQuestions.find(q => q.id === questionId);
            if (question) {
                question.showMemo = !question.showMemo;
                
                if (currentPage === 'practice') {
                    renderPracticeQuestions();
                } else if (currentPage === 'mcq-only') {
                    renderMCQQuestions();
                } else if (currentPage === 'mock-exam') {
                    renderExamQuestions();
                }
            }
        }
    </script>
</body>
</html>
