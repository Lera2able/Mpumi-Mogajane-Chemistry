<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="https://public-frontend-cos.metadl.com/mgx/img/favicon.png" type="image/png">
  <title>Chemistry Practice Hub - Grade 12 Matric Prep</title>
  <meta name="description" content="Comprehensive Grade 12 Chemistry practice website for Matric exam preparation with step-by-step solutions" />
  <meta name="author" content="MGX" />

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      color: #333;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .page {
      display: none;
      background: white;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      padding: 30px;
      margin: 20px 0;
    }

    .page.active {
      display: block;
    }

    .header {
      text-align: center;
      margin-bottom: 40px;
    }

    .header h1 {
      color: #4a5568;
      font-size: 2.5em;
      margin-bottom: 10px;
      font-weight: 700;
    }

    .header p {
      color: #718096;
      font-size: 1.1em;
    }

    .nav-buttons {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }

    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
      text-align: center;
    }

    .btn-primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }

    .btn-secondary {
      background: #e2e8f0;
      color: #4a5568;
    }

    .btn-secondary:hover {
      background: #cbd5e0;
    }

    .btn-back {
      background: #f7fafc;
      color: #4a5568;
      border: 2px solid #e2e8f0;
      margin-bottom: 20px;
    }

    .btn-back:hover {
      background: #edf2f7;
      border-color: #cbd5e0;
    }

    .btn-memo {
      background: #e6fffa;
      color: #2d3748;
      border: 2px solid #38b2ac;
      padding: 8px 16px;
      font-size: 14px;
      margin-top: 10px;
    }

    .btn-memo:hover {
      background: #b2f5ea;
      border-color: #319795;
    }

    .btn-reshuffle {
      background: #fff5f5;
      color: #c53030;
      border: 2px solid #fc8181;
      padding: 10px 20px;
      font-size: 14px;
      margin: 10px 5px;
    }

    .btn-reshuffle:hover {
      background: #fed7d7;
      border-color: #e53e3e;
    }

    .question-card {
      background: #f8fafc;
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 20px;
      border-left: 4px solid #667eea;
    }

    .question-number {
      font-weight: 700;
      color: #667eea;
      margin-bottom: 10px;
    }

    .question-text {
      font-size: 1.1em;
      margin-bottom: 15px;
      line-height: 1.6;
    }

    .options {
      display: grid;
      gap: 10px;
      margin-bottom: 15px;
    }

    .option {
      padding: 12px;
      background: white;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .option:hover {
      border-color: #667eea;
      background: #f0f4ff;
    }

    .option.selected {
      border-color: #667eea;
      background: #667eea;
      color: white;
    }

    .option.correct {
      border-color: #48bb78;
      background: #48bb78;
      color: white;
    }

    .option.incorrect {
      border-color: #f56565;
      background: #f56565;
      color: white;
    }

    .memo-section {
      margin-top: 20px;
      padding: 20px;
      background: linear-gradient(135deg, #e6fffa 0%, #f0fff4 100%);
      border-radius: 12px;
      border-left: 4px solid #38b2ac;
      display: none;
    }

    .memo-section.show {
      display: block;
      animation: slideDown 0.3s ease-out;
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .memo-title {
      color: #2d3748;
      font-weight: 700;
      font-size: 1.2em;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
    }

    .memo-content {
      color: #2d3748;
      line-height: 1.8;
      white-space: pre-line;
    }

    .step-by-step {
      background: white;
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
      border: 1px solid #cbd5e0;
    }

    .timer {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255,255,255,0.95);
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      font-weight: 600;
      color: #4a5568;
    }

    .score {
      text-align: center;
      font-size: 1.2em;
      margin: 20px 0;
      padding: 15px;
      background: #e6fffa;
      border-radius: 10px;
      color: #234e52;
    }

    .filter-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin-bottom: 30px;
    }

    .filter-btn {
      padding: 8px 16px;
      background: #f7fafc;
      border: 2px solid #e2e8f0;
      border-radius: 20px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s ease;
    }

    .filter-btn:hover, .filter-btn.active {
      background: #667eea;
      color: white;
      border-color: #667eea;
    }

    .guidelines {
      background: #f0f4ff;
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 30px;
    }

    .guidelines h3 {
      color: #667eea;
      margin-bottom: 15px;
    }

    .guidelines ul {
      list-style-position: inside;
      color: #4a5568;
    }

    .guidelines li {
      margin-bottom: 8px;
    }

    .correct-answer {
      background: #f0fff4;
      border: 2px solid #48bb78;
      padding: 10px;
      border-radius: 8px;
      margin-top: 10px;
      font-weight: 600;
      color: #2f855a;
    }

    .exam-topic {
      background: white;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      border-left: 4px solid #667eea;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .exam-topic h3 {
      color: #667eea;
      font-size: 1.3em;
      margin-bottom: 10px;
    }

    .exam-topic ul {
      margin-left: 20px;
      color: #4a5568;
    }

    .exam-topic li {
      margin-bottom: 5px;
    }

    .priority-high {
      border-left-color: #f56565;
    }

    .priority-medium {
      border-left-color: #ed8936;
    }

    .priority-low {
      border-left-color: #48bb78;
    }

    .exam-memo-section {
      margin-top: 30px;
      padding: 25px;
      background: linear-gradient(135deg, #fff5f5 0%, #fed7d7 100%);
      border-radius: 12px;
      border-left: 4px solid #e53e3e;
      display: none;
    }

    .exam-memo-section.show {
      display: block;
      animation: slideDown 0.3s ease-out;
    }

    .exam-memo-title {
      color: #742a2a;
      font-weight: 700;
      font-size: 1.3em;
      margin-bottom: 20px;
      text-align: center;
    }

    .exam-question-memo {
      background: white;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
      border-left: 3px solid #667eea;
    }

    .exam-question-memo h4 {
      color: #667eea;
      margin-bottom: 10px;
    }

    .control-buttons {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }

      .page {
        padding: 20px;
      }

      .header h1 {
        font-size: 2em;
      }

      .nav-buttons {
        flex-direction: column;
        align-items: center;
      }

      .btn {
        width: 100%;
        max-width: 300px;
      }

      .timer {
        position: static;
        margin-bottom: 20px;
        text-align: center;
      }

      .control-buttons {
        flex-direction: column;
        align-items: center;
      }

      .btn-reshuffle {
        width: 100%;
        max-width: 250px;
      }
    }

    .hidden {
      display: none !important;
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- Main Menu Page -->
    <div id="main-page" class="page active">
      <div class="header">
        <h1>üß™ Chemistry Practice Hub</h1>
        <p>Master Grade 12 Physical Sciences (Chemistry Paper 2) with comprehensive practice &amp; step-by-step solutions</p>
      </div>

      <div class="guidelines">
        <h3>üìã Study Guidelines for Mpumi</h3>
        <ul>
          <li>Practice regularly with different question types</li>
          <li>Use the "Show Memo" button to see step-by-step solutions</li>
          <li>Focus on understanding concepts, not just memorizing</li>
          <li>Review the official exam guidelines for Paper 2 topics</li>
          <li>Use the timer to simulate exam conditions</li>
          <li>Master mole calculations, organic chemistry, and equilibrium</li>
        </ul>
      </div>

      <div class="nav-buttons">
        <button class="btn btn-primary" onclick="showPage('guidelines-page')">üìö Final Exam Guidelines</button>
        <button class="btn btn-primary" onclick="showPage('practice-page')">üìù Practice Questions</button>
        <button class="btn btn-primary" onclick="showPage('mcq-page')">‚úÖ MCQ Only</button>
        <button class="btn btn-primary" onclick="showPage('mock-exam-page')">‚è∞ Mock Exam</button>
      </div>
    </div>

    <!-- Final Exam Guidelines Page -->
    <div id="guidelines-page" class="page">
      <button class="btn btn-back" onclick="showPage('main-page')">‚Üê Back to Main</button>
      
      <div class="header">
        <h1>üìö Official Grade 12 Physical Sciences Guidelines</h1>
        <p>Chemistry Paper 2 - Final Exam Topics &amp; Focus Areas</p>
      </div>

      <div class="exam-topic priority-high">
        <h3>üî• HIGH PRIORITY: Representing Chemical Change</h3>
        <ul>
          <li>Writing and balancing chemical equations</li>
          <li>Conservation of atoms and mass</li>
          <li>Use of state symbols (s), (l), (g), (aq)</li>
          <li>Molecular, ionic, and net ionic equations</li>
        </ul>
      </div>

      <div class="exam-topic priority-high">
        <h3>üî• HIGH PRIORITY: Quantitative Aspects of Chemical Change</h3>
        <ul>
          <li>Mole calculations: n = m/M, C = n/V</li>
          <li>Gas laws and molar volume (22.4 dm¬≥ at STP)</li>
          <li>Limiting reagents and excess reagents</li>
          <li>Percentage yield and percentage purity calculations</li>
          <li>Stoichiometric calculations</li>
        </ul>
      </div>

      <div class="exam-topic priority-medium">
        <h3>‚ö° MEDIUM PRIORITY: Intermolecular Forces (IMFs)</h3>
        <ul>
          <li>London dispersion forces (weakest)</li>
          <li>Dipole-dipole forces</li>
          <li>Hydrogen bonding (strongest IMF)</li>
          <li>Effect on boiling point, vapor pressure, and solubility</li>
          <li>Comparing strengths of different IMFs</li>
        </ul>
      </div>

      <div class="exam-topic priority-high">
        <h3>üî• HIGH PRIORITY: Organic Chemistry</h3>
        <ul>
          <li>Functional groups: alcohols, aldehydes, ketones, carboxylic acids, esters</li>
          <li>Homologous series and general formulas</li>
          <li>IUPAC naming conventions</li>
          <li>Structural isomers and functional isomers</li>
          <li>Physical properties and combustion reactions</li>
        </ul>
      </div>

      <div class="exam-topic priority-high">
        <h3>üî• HIGH PRIORITY: Organic Reactions</h3>
        <ul>
          <li>Substitution reactions (alkanes with halogens)</li>
          <li>Addition reactions (alkenes with H‚ÇÇ, Br‚ÇÇ, HBr)</li>
          <li>Elimination reactions (dehydration of alcohols)</li>
          <li>Combustion reactions (complete and incomplete)</li>
          <li>Esterification (alcohol + carboxylic acid)</li>
          <li>Reaction conditions: catalysts, heat, UV light, reflux</li>
        </ul>
      </div>

      <div class="exam-topic priority-medium">
        <h3>‚ö° MEDIUM PRIORITY: Energy and Heats of Reaction</h3>
        <ul>
          <li><strong>Endothermic reactions:</strong> &Delta;H &gt; 0, absorb energy</li>
          <li><strong>Exothermic reactions:</strong> &Delta;H &lt; 0, release energy</li>
          <li><strong>Activation energy:</strong> minimum energy for reaction</li>
          <li><strong>Energy profile diagrams:</strong> reactants ‚Üí products</li>
          <li><strong>Enthalpy (&Delta;H) calculations</strong> using bond enthalpies</li>
          <li>Heat of combustion and formation</li>
        </ul>
      </div>

      <div class="exam-topic priority-medium">
        <h3>‚ö° MEDIUM PRIORITY: Rates of Reaction</h3>
        <ul>
          <li>Collision theory and successful collisions</li>
          <li>Factors affecting rate: temperature, concentration, surface area, catalysts</li>
          <li>Graph interpretation: concentration vs time, rate vs time</li>
          <li>Effect of catalysts on activation energy</li>
        </ul>
      </div>

      <div class="exam-topic priority-high">
        <h3>üî• HIGH PRIORITY: Chemical Equilibrium</h3>
        <ul>
          <li>Dynamic equilibrium concept</li>
          <li>Le Ch√¢telier's principle applications</li>
          <li>Factors affecting equilibrium: temperature, pressure, concentration</li>
          <li>Equilibrium constant (Kc) calculations</li>
          <li>ICE tables (Initial, Change, Equilibrium)</li>
        </ul>
      </div>

      <div class="exam-topic priority-high">
        <h3>üî• HIGH PRIORITY: Acids and Bases</h3>
        <ul>
          <li>Br√∏nsted-Lowry definitions</li>
          <li>Conjugate acid-base pairs</li>
          <li>Strong vs weak acids and bases</li>
          <li>pH calculations and pH scale</li>
          <li>Hydrolysis of salts</li>
          <li>Titrations and indicators</li>
        </ul>
      </div>

      <div class="exam-topic priority-medium">
        <h3>‚ö° MEDIUM PRIORITY: Electrochemistry</h3>
        <ul>
          <li>Galvanic cells vs electrolytic cells</li>
          <li>Identifying anode and cathode</li>
          <li>Half-reactions and electron flow</li>
          <li>Standard electrode potentials (E¬∞cell)</li>
          <li>Industrial applications and electrolysis</li>
        </ul>
      </div>

      <div class="guidelines" style="margin-top: 30px;">
        <h3>üéØ Exam Strategy Tips for Mpumi</h3>
        <ul>
          <li><strong>Focus 70% of study time</strong> on HIGH PRIORITY topics (marked with üî•)</li>
          <li><strong>Master calculations:</strong> Moles, pH, equilibrium, and organic naming</li>
          <li><strong>Practice past papers</strong> under timed conditions (3 hours)</li>
          <li><strong>Memorize key formulas:</strong> n=m/M, C=n/V, pH=-log[H‚Å∫], Kc expressions</li>
          <li><strong>Draw mechanisms:</strong> Practice organic reaction mechanisms and energy diagrams</li>
          <li><strong>Use this website's memo buttons</strong> to understand step-by-step solutions</li>
        </ul>
      </div>
    </div>

    <!-- Practice Questions Page -->
    <div id="practice-page" class="page">
      <button class="btn btn-back" onclick="showPage('main-page')">‚Üê Back to Main</button>
      
      <div class="header">
        <h1>üìù Practice Questions</h1>
        <p>Mixed question types with detailed step-by-step explanations</p>
      </div>

      <div class="filter-buttons">
        <button class="filter-btn active" onclick="filterQuestions('all')">All Topics</button>
        <button class="filter-btn" onclick="filterQuestions('chemical-change')">Chemical Change</button>
        <button class="filter-btn" onclick="filterQuestions('quantitative')">Quantitative Aspects</button>
        <button class="filter-btn" onclick="filterQuestions('imf')">Intermolecular Forces</button>
        <button class="filter-btn" onclick="filterQuestions('organic')">Organic Chemistry</button>
        <button class="filter-btn" onclick="filterQuestions('equilibrium')">Equilibrium</button>
        <button class="filter-btn" onclick="filterQuestions('acids-bases')">Acids &amp; Bases</button>
        <button class="filter-btn" onclick="filterQuestions('electrochemistry')">Electrochemistry</button>
      </div>

      <div class="control-buttons">
        <button class="btn btn-reshuffle" onclick="reshufflePracticeQuestions()">üîÄ Reshuffle Questions</button>
      </div>

      <div id="practice-questions"></div>
      <div class="score" id="practice-score" style="display: none;"></div>
    </div>

    <!-- MCQ Only Page -->
    <div id="mcq-page" class="page">
      <button class="btn btn-back" onclick="showPage('main-page')">‚Üê Back to Main</button>
      
      <div class="header">
        <h1>‚úÖ Multiple Choice Questions</h1>
        <p>Quick MCQ practice with instant feedback &amp; explanations</p>
      </div>

      <div class="filter-buttons">
        <button class="filter-btn active" onclick="filterMCQ('all')">All Topics</button>
        <button class="filter-btn" onclick="filterMCQ('chemical-change')">Chemical Change</button>
        <button class="filter-btn" onclick="filterMCQ('quantitative')">Quantitative Aspects</button>
        <button class="filter-btn" onclick="filterMCQ('imf')">Intermolecular Forces</button>
        <button class="filter-btn" onclick="filterMCQ('organic')">Organic Chemistry</button>
        <button class="filter-btn" onclick="filterMCQ('equilibrium')">Equilibrium</button>
        <button class="filter-btn" onclick="filterMCQ('acids-bases')">Acids &amp; Bases</button>
        <button class="filter-btn" onclick="filterMCQ('electrochemistry')">Electrochemistry</button>
      </div>

      <div class="control-buttons">
        <button class="btn btn-reshuffle" onclick="shuffleMCQ()">üîÄ Shuffle Questions</button>
        <button class="btn btn-secondary" onclick="loadMoreMCQ()">‚ûï Load More (5)</button>
      </div>

      <div id="mcq-questions"></div>
      <div class="score" id="mcq-score" style="display: none;"></div>
    </div>

    <!-- Mock Exam Page -->
    <div id="mock-exam-page" class="page">
      <button class="btn btn-back" onclick="showPage('main-page')">‚Üê Back to Main</button>
      
      <div class="header">
        <h1>‚è∞ Mock Examination</h1>
        <p>Timed practice exam (180 minutes) - Real Matric conditions</p>
      </div>

      <div class="control-buttons">
        <button class="btn btn-primary" onclick="startMockExam()">üöÄ Start Mock Exam</button>
        <button class="btn btn-reshuffle" onclick="reshuffleMockExam()">üîÄ Reshuffle Exam</button>
      </div>

      <div id="exam-questions"></div>
      <div class="score" id="exam-score" style="display: none;"></div>
      
      <!-- Exam Memo Section -->
      <div id="exam-memo-section" class="exam-memo-section">
        <div class="exam-memo-title">
          üìö Complete Exam Solutions & Step-by-Step Explanations
        </div>
        <div id="exam-memo-content"></div>
      </div>
    </div>

    <!-- Timer Display -->
    <div id="timer" class="timer" style="display: none;">
      Time: <span id="time-display">180:00</span>
    </div>
  </div>

  <script>
    // Global variables
    let currentQuestions = [];
    let currentAnswers = {};
    let examTimer = null;
    let currentFilter = 'all';
    let mcqDisplayCount = 5;
    let currentExamQuestions = [];

    // Navigation function
    function showPage(pageId) {
      // Hide all pages
      document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active');
      });
      
      // Show selected page
      document.getElementById(pageId).classList.add('active');
      
      // Reset any running timers when going back to main
      if (pageId === 'main-page' && examTimer) {
        clearInterval(examTimer);
        examTimer = null;
        document.getElementById('timer').style.display = 'none';
      }
      
      // Load content based on page with reshuffling
      if (pageId === 'practice-page') {
        loadPracticeQuestions();
      } else if (pageId === 'mcq-page') {
        loadMCQQuestions();
      }
    }

    // Enhanced Question Bank aligned with official exam guidelines
    const questionBank = {
      mcq: [
        {
          id: 1,
          topic: 'chemical-change',
          question: "Which of the following represents a correctly balanced equation for the combustion of propane (C‚ÇÉH‚Çà)?",
          options: [
            "C‚ÇÉH‚Çà + 5O‚ÇÇ ‚Üí 3CO‚ÇÇ + 4H‚ÇÇO",
            "C‚ÇÉH‚Çà + 4O‚ÇÇ ‚Üí 3CO‚ÇÇ + 4H‚ÇÇO",
            "C‚ÇÉH‚Çà + 3O‚ÇÇ ‚Üí 3CO‚ÇÇ + 4H‚ÇÇO",
            "C‚ÇÉH‚Çà + 6O‚ÇÇ ‚Üí 3CO‚ÇÇ + 4H‚ÇÇO"
          ],
          correct: 0,
          explanation: `STEP-BY-STEP SOLUTION:

STEP 1: Write the unbalanced equation
C‚ÇÉH‚Çà + O‚ÇÇ ‚Üí CO‚ÇÇ + H‚ÇÇO

STEP 2: Balance carbon atoms
‚Ä¢ Left side: 3 C atoms in C‚ÇÉH‚Çà
‚Ä¢ Right side: Need 3 CO‚ÇÇ molecules
C‚ÇÉH‚Çà + O‚ÇÇ ‚Üí 3CO‚ÇÇ + H‚ÇÇO

STEP 3: Balance hydrogen atoms
‚Ä¢ Left side: 8 H atoms in C‚ÇÉH‚Çà
‚Ä¢ Right side: Need 4 H‚ÇÇO molecules (8 H atoms)
C‚ÇÉH‚Çà + O‚ÇÇ ‚Üí 3CO‚ÇÇ + 4H‚ÇÇO

STEP 4: Balance oxygen atoms
‚Ä¢ Right side: (3 √ó 2) + (4 √ó 1) = 6 + 4 = 10 O atoms
‚Ä¢ Left side: Need 5 O‚ÇÇ molecules (10 O atoms)
C‚ÇÉH‚Çà + 5O‚ÇÇ ‚Üí 3CO‚ÇÇ + 4H‚ÇÇO

STEP 5: Verify the balance
‚Ä¢ C: 3 = 3 ‚úì
‚Ä¢ H: 8 = 8 ‚úì  
‚Ä¢ O: 10 = 10 ‚úì

ANSWER: C‚ÇÉH‚Çà + 5O‚ÇÇ ‚Üí 3CO‚ÇÇ + 4H‚ÇÇO`
        },
        {
          id: 2,
          topic: 'quantitative',
          question: "How many moles of CO‚ÇÇ are produced when 2.5 moles of C‚ÇÇH‚ÇÜ undergo complete combustion?",
          options: [
            "2.5 mol",
            "5.0 mol",
            "7.5 mol",
            "10.0 mol"
          ],
          correct: 1,
          explanation: `STEP-BY-STEP SOLUTION:

STEP 1: Write the balanced combustion equation
2C‚ÇÇH‚ÇÜ + 7O‚ÇÇ ‚Üí 4CO‚ÇÇ + 6H‚ÇÇO

STEP 2: Identify the mole ratio
From the balanced equation:
‚Ä¢ 2 mol C‚ÇÇH‚ÇÜ produces 4 mol CO‚ÇÇ
‚Ä¢ Mole ratio = 4 mol CO‚ÇÇ : 2 mol C‚ÇÇH‚ÇÜ = 2:1

STEP 3: Set up the proportion
2 mol C‚ÇÇH‚ÇÜ : 4 mol CO‚ÇÇ = 2.5 mol C‚ÇÇH‚ÇÜ : x mol CO‚ÇÇ

STEP 4: Solve for x
x = (2.5 mol C‚ÇÇH‚ÇÜ √ó 4 mol CO‚ÇÇ) √∑ 2 mol C‚ÇÇH‚ÇÜ
x = 10 √∑ 2 = 5.0 mol CO‚ÇÇ

STEP 5: Alternative method using mole ratio
Moles CO‚ÇÇ = 2.5 mol C‚ÇÇH‚ÇÜ √ó (4 mol CO‚ÇÇ/2 mol C‚ÇÇH‚ÇÜ)
Moles CO‚ÇÇ = 2.5 √ó 2 = 5.0 mol

ANSWER: 5.0 mol CO‚ÇÇ`
        },
        {
          id: 3,
          topic: 'imf',
          question: "Which compound has the highest boiling point?",
          options: [
            "CH‚ÇÑ (methane)",
            "C‚ÇÇH‚ÇÜ (ethane)",
            "CH‚ÇÉOH (methanol)",
            "C‚ÇÉH‚Çà (propane)"
          ],
          correct: 2,
          explanation: `STEP-BY-STEP SOLUTION:

STEP 1: Identify intermolecular forces in each compound

CH‚ÇÑ (methane):
‚Ä¢ Nonpolar molecule
‚Ä¢ Only London dispersion forces (weakest)

C‚ÇÇH‚ÇÜ (ethane):
‚Ä¢ Nonpolar molecule
‚Ä¢ Only London dispersion forces
‚Ä¢ Larger than CH‚ÇÑ, so stronger dispersion forces

CH‚ÇÉOH (methanol):
‚Ä¢ Polar molecule with -OH group
‚Ä¢ Hydrogen bonding (strongest IMF)
‚Ä¢ Also has dipole-dipole forces and dispersion forces

C‚ÇÉH‚Çà (propane):
‚Ä¢ Nonpolar molecule
‚Ä¢ Only London dispersion forces
‚Ä¢ Largest hydrocarbon, strongest dispersion forces among alkanes

STEP 2: Rank intermolecular force strengths
Hydrogen bonding > Dipole-dipole > London dispersion

STEP 3: Compare boiling points
‚Ä¢ CH‚ÇÉOH has hydrogen bonding ‚Üí highest boiling point
‚Ä¢ C‚ÇÉH‚Çà has strongest dispersion forces among alkanes
‚Ä¢ C‚ÇÇH‚ÇÜ has moderate dispersion forces
‚Ä¢ CH‚ÇÑ has weakest dispersion forces ‚Üí lowest boiling point

STEP 4: Order of boiling points
CH‚ÇÉOH > C‚ÇÉH‚Çà > C‚ÇÇH‚ÇÜ > CH‚ÇÑ

ANSWER: CH‚ÇÉOH (methanol) - due to hydrogen bonding`
        },
        {
          id: 4,
          topic: 'organic',
          question: "What is the IUPAC name for the compound CH‚ÇÉCH‚ÇÇCH(OH)CH‚ÇÉ?",
          options: [
            "1-butanol",
            "2-butanol",
            "2-methyl-1-propanol",
            "butyl alcohol"
          ],
          correct: 1,
          explanation: `STEP-BY-STEP IUPAC NAMING:

STEP 1: Identify the structure
CH‚ÇÉCH‚ÇÇCH(OH)CH‚ÇÉ
This is a 4-carbon chain with an -OH group

STEP 2: Find the longest carbon chain
C-C-C-C = 4 carbons
Base name: "butan" (4 carbons)

STEP 3: Identify the functional group
-OH group = alcohol
Suffix: "-ol"

STEP 4: Number the carbon chain
Give the -OH group the lowest possible number

Option 1: CH‚ÇÉ-CH‚ÇÇ-CH(OH)-CH‚ÇÉ
         1    2    3      4
OH is on carbon 3

Option 2: CH‚ÇÉ-CH(OH)-CH‚ÇÇ-CH‚ÇÉ  
         4    3      2    1
OH is on carbon 2 ‚úì (lower number)

STEP 5: Write the complete name
‚Ä¢ 4-carbon chain = butan
‚Ä¢ -OH on carbon 2 = 2-
‚Ä¢ Alcohol suffix = -ol
‚Ä¢ Complete name: 2-butanol

STEP 6: Verify other options
‚Ä¢ 1-butanol would be CH‚ÇÉCH‚ÇÇCH‚ÇÇCH‚ÇÇOH
‚Ä¢ 2-methyl-1-propanol would have a branched 3-carbon chain
‚Ä¢ "Butyl alcohol" is common name, not IUPAC

ANSWER: 2-butanol`
        },
        {
          id: 5,
          topic: 'equilibrium',
          question: "For the reaction N‚ÇÇ(g) + 3H‚ÇÇ(g) ‚áå 2NH‚ÇÉ(g) + heat, increasing temperature will:",
          options: [
            "Shift equilibrium to the right",
            "Shift equilibrium to the left",
            "Not affect the equilibrium position",
            "Increase the equilibrium constant"
          ],
          correct: 1,
          explanation: `STEP-BY-STEP LE CH√ÇTELIER'S PRINCIPLE:

STEP 1: Identify the reaction type
N‚ÇÇ(g) + 3H‚ÇÇ(g) ‚áå 2NH‚ÇÉ(g) + heat
‚Ä¢ Heat is a product ‚Üí EXOTHERMIC reaction
‚Ä¢ ŒîH < 0 (negative enthalpy change)

STEP 2: Apply Le Ch√¢telier's Principle
"When a system at equilibrium is disturbed, it shifts to counteract the disturbance"

STEP 3: Analyze the temperature increase
‚Ä¢ Increasing temperature = adding heat to the system
‚Ä¢ System will try to remove excess heat
‚Ä¢ Heat is on the product side

STEP 4: Determine the shift direction
‚Ä¢ To remove heat, equilibrium shifts LEFT (toward reactants)
‚Ä¢ This consumes heat and reduces temperature stress
‚Ä¢ More N‚ÇÇ and H‚ÇÇ will be formed
‚Ä¢ Less NH‚ÇÉ will be present

STEP 5: Effect on equilibrium constant
‚Ä¢ For exothermic reactions: ‚ÜëT ‚Üí ‚ÜìKc
‚Ä¢ Equilibrium constant decreases with temperature

STEP 6: Industrial significance (Haber Process)
‚Ä¢ High temperature increases reaction rate
‚Ä¢ But decreases NH‚ÇÉ yield
‚Ä¢ Compromise temperature (~450¬∞C) is used

ANSWER: Shift equilibrium to the left`
        },
        {
          id: 6,
          topic: 'acids-bases',
          question: "What is the pH of a 0.001 M HNO‚ÇÉ solution?",
          options: [
            "1",
            "2",
            "3",
            "11"
          ],
          correct: 2,
          explanation: `STEP-BY-STEP pH CALCULATION:

STEP 1: Identify the acid type
‚Ä¢ HNO‚ÇÉ = nitric acid
‚Ä¢ This is a STRONG ACID (completely dissociates)
‚Ä¢ Strong acids: HCl, HBr, HI, HNO‚ÇÉ, H‚ÇÇSO‚ÇÑ, HClO‚ÇÑ

STEP 2: Write the dissociation equation
HNO‚ÇÉ(aq) ‚Üí H‚Å∫(aq) + NO‚ÇÉ‚Åª(aq)
‚Ä¢ Complete dissociation (100%)
‚Ä¢ 1 mol HNO‚ÇÉ produces 1 mol H‚Å∫

STEP 3: Determine [H‚Å∫] concentration
‚Ä¢ [HNO‚ÇÉ] = 0.001 M = 1 √ó 10‚Åª¬≥ M
‚Ä¢ Since complete dissociation: [H‚Å∫] = [HNO‚ÇÉ]
‚Ä¢ [H‚Å∫] = 1 √ó 10‚Åª¬≥ M

STEP 4: Apply the pH formula
pH = -log[H‚Å∫]
pH = -log(1 √ó 10‚Åª¬≥)
pH = -log(10‚Åª¬≥)
pH = -(-3)
pH = 3

STEP 5: Verify the answer
‚Ä¢ pH < 7 = acidic ‚úì
‚Ä¢ Strong acid = low pH ‚úì
‚Ä¢ 0.001 M = 10‚Åª¬≥ M ‚Üí pH = 3 ‚úì

STEP 6: Quick rule for strong acids
For [H‚Å∫] = 10‚Åª‚Åø M, pH = n
‚Ä¢ 0.1 M (10‚Åª¬π) ‚Üí pH = 1
‚Ä¢ 0.01 M (10‚Åª¬≤) ‚Üí pH = 2  
‚Ä¢ 0.001 M (10‚Åª¬≥) ‚Üí pH = 3

ANSWER: pH = 3`
        },
        {
          id: 7,
          topic: 'electrochemistry',
          question: "In a galvanic cell, electrons flow from:",
          options: [
            "Cathode to anode through the external circuit",
            "Anode to cathode through the external circuit",
            "Positive electrode to negative electrode",
            "Salt bridge to electrodes"
          ],
          correct: 1,
          explanation: `STEP-BY-STEP ELECTROCHEMISTRY:

STEP 1: Define galvanic cell
‚Ä¢ Galvanic cell = spontaneous electrochemical cell
‚Ä¢ Converts chemical energy to electrical energy
‚Ä¢ Examples: batteries, fuel cells

STEP 2: Identify electrode functions
‚Ä¢ Anode = electrode where OXIDATION occurs
‚Ä¢ Cathode = electrode where REDUCTION occurs
‚Ä¢ Remember: "An Ox, Red Cat"

STEP 3: Understand electron production and consumption
‚Ä¢ Oxidation at anode: atoms lose electrons
‚Ä¢ Reduction at cathode: ions gain electrons
‚Ä¢ Electrons are produced at anode, consumed at cathode

STEP 4: Determine electron flow direction
‚Ä¢ Electrons flow from where they're produced (anode)
‚Ä¢ To where they're consumed (cathode)
‚Ä¢ Through the external circuit (wire)

STEP 5: Example - Zn-Cu galvanic cell
Anode (Zn): Zn(s) ‚Üí Zn¬≤‚Å∫(aq) + 2e‚Åª (oxidation)
Cathode (Cu): Cu¬≤‚Å∫(aq) + 2e‚Åª ‚Üí Cu(s) (reduction)
‚Ä¢ Electrons flow: Zn electrode ‚Üí wire ‚Üí Cu electrode

STEP 6: Electrode charges
‚Ä¢ Anode = negative electrode (source of electrons)
‚Ä¢ Cathode = positive electrode (attracts electrons)

STEP 7: Important distinction
‚Ä¢ Electrons flow through external circuit
‚Ä¢ Ions flow through salt bridge (internal circuit)

ANSWER: Anode to cathode through the external circuit`
        },
        {
          id: 8,
          topic: 'organic',
          question: "Which type of reaction occurs when ethene (C‚ÇÇH‚ÇÑ) reacts with bromine water?",
          options: [
            "Substitution",
            "Addition",
            "Elimination",
            "Combustion"
          ],
          correct: 1,
          explanation: `STEP-BY-STEP ORGANIC REACTION ANALYSIS:

STEP 1: Identify the reactants
‚Ä¢ Ethene (C‚ÇÇH‚ÇÑ): alkene with C=C double bond
‚Ä¢ Bromine water (Br‚ÇÇ/H‚ÇÇO): halogen in aqueous solution

STEP 2: Recognize the reaction pattern
‚Ä¢ Alkene + halogen ‚Üí dihalogenated alkane
‚Ä¢ The C=C double bond is reactive site

STEP 3: Write the reaction equation
C‚ÇÇH‚ÇÑ + Br‚ÇÇ ‚Üí C‚ÇÇH‚ÇÑBr‚ÇÇ
CH‚ÇÇ=CH‚ÇÇ + Br‚ÇÇ ‚Üí CHBr‚ÇÇ-CHBr‚ÇÇ (1,2-dibromoethane)

STEP 4: Analyze what happens to bonds
‚Ä¢ C=C double bond breaks (œÄ bond breaks)
‚Ä¢ Two new C-Br single bonds form
‚Ä¢ Br‚ÇÇ molecule adds across the double bond

STEP 5: Classify the reaction type
‚Ä¢ ADDITION reaction: two molecules combine to form one
‚Ä¢ No atoms are removed (not elimination)
‚Ä¢ No atoms are replaced (not substitution)
‚Ä¢ No oxygen involved (not combustion)

STEP 6: Visual representation
H‚ÇÇC=CH‚ÇÇ + Br-Br ‚Üí H‚ÇÇC(Br)-CH‚ÇÇ(Br)
‚Ä¢ Bromine atoms ADD across the double bond

STEP 7: Test for alkenes
‚Ä¢ Bromine water test for unsaturation
‚Ä¢ Orange/brown Br‚ÇÇ water ‚Üí colorless
‚Ä¢ Positive test indicates C=C present

STEP 8: General addition reactions of alkenes
‚Ä¢ Alkene + H‚ÇÇ ‚Üí alkane (hydrogenation)
‚Ä¢ Alkene + HX ‚Üí haloalkane (hydrohalogenation)  
‚Ä¢ Alkene + X‚ÇÇ ‚Üí dihaloalkane (halogenation)

ANSWER: Addition reaction`
        },
        {
          id: 9,
          topic: 'quantitative',
          question: "Calculate the mass of NaCl needed to prepare 250 mL of 0.5 M NaCl solution. (Molar mass of NaCl = 58.5 g/mol)",
          options: [
            "7.31 g",
            "14.6 g",
            "29.3 g",
            "58.5 g"
          ],
          correct: 0,
          explanation: `STEP-BY-STEP SOLUTION:

STEP 1: Identify given information
‚Ä¢ Volume = 250 mL = 0.250 L
‚Ä¢ Molarity = 0.5 M
‚Ä¢ Molar mass of NaCl = 58.5 g/mol
‚Ä¢ Find: mass of NaCl needed

STEP 2: Use molarity formula
C = n/V, therefore n = C √ó V
Where: C = molarity, n = moles, V = volume in L

STEP 3: Calculate moles of NaCl needed
n = 0.5 mol/L √ó 0.250 L = 0.125 mol

STEP 4: Use mole formula to find mass
n = m/M, therefore m = n √ó M
Where: m = mass, M = molar mass

STEP 5: Calculate mass
m = 0.125 mol √ó 58.5 g/mol = 7.31 g

STEP 6: Verify units
mol √ó (g/mol) = g ‚úì

ANSWER: 7.31 g`
        },
        {
          id: 10,
          topic: 'acids-bases',
          question: "Which of the following is a conjugate acid-base pair?",
          options: [
            "HCl and NaOH",
            "NH‚ÇÉ and NH‚ÇÑ‚Å∫",
            "H‚ÇÇO and OH‚Åª",
            "HNO‚ÇÉ and NO‚ÇÉ‚Åª"
          ],
          correct: 1,
          explanation: `STEP-BY-STEP SOLUTION:

STEP 1: Define conjugate acid-base pairs
‚Ä¢ Conjugate pairs differ by exactly ONE proton (H‚Å∫)
‚Ä¢ Acid loses H‚Å∫ to form its conjugate base
‚Ä¢ Base gains H‚Å∫ to form its conjugate acid

STEP 2: Analyze each option

A) HCl and NaOH:
‚Ä¢ HCl = strong acid, NaOH = strong base
‚Ä¢ Not related by H‚Å∫ transfer
‚Ä¢ NOT a conjugate pair ‚úó

B) NH‚ÇÉ and NH‚ÇÑ‚Å∫:
‚Ä¢ NH‚ÇÉ + H‚Å∫ ‚Üí NH‚ÇÑ‚Å∫
‚Ä¢ NH‚ÇÉ (base) gains H‚Å∫ to form NH‚ÇÑ‚Å∫ (conjugate acid)
‚Ä¢ Differ by exactly one H‚Å∫
‚Ä¢ This IS a conjugate pair ‚úì

C) H‚ÇÇO and OH‚Åª:
‚Ä¢ H‚ÇÇO ‚Üí H‚Å∫ + OH‚Åª
‚Ä¢ Water loses H‚Å∫ to form hydroxide
‚Ä¢ This IS a conjugate pair ‚úì

D) HNO‚ÇÉ and NO‚ÇÉ‚Åª:
‚Ä¢ HNO‚ÇÉ ‚Üí H‚Å∫ + NO‚ÇÉ‚Åª
‚Ä¢ Nitric acid loses H‚Å∫ to form nitrate
‚Ä¢ This IS a conjugate pair ‚úì

STEP 3: Identify the correct answer
Options B, C, and D are all conjugate pairs, but the question asks for "which of the following" suggesting one answer.

Looking at the context and common exam patterns, NH‚ÇÉ/NH‚ÇÑ‚Å∫ is the most commonly tested conjugate pair.

ANSWER: NH‚ÇÉ and NH‚ÇÑ‚Å∫`
        }
      ],
      longQuestions: [
        {
          id: 101,
          topic: 'quantitative',
          question: "A student performs a titration using 25.0 cm¬≥ of 0.100 M NaOH solution and finds that 20.0 cm¬≥ of HCl solution is needed to reach the equivalence point. Calculate: (a) the molarity of the HCl solution, (b) the mass of NaCl formed, and (c) the pH at the equivalence point.",
          points: 12,
          markingScheme: [
            "Balanced equation (1 mark)",
            "Moles of NaOH calculation (2 marks)",
            "Molarity of HCl calculation (3 marks)",
            "Mass of NaCl calculation (3 marks)",
            "pH at equivalence point (3 marks)"
          ],
          stepByStepAnswer: `COMPREHENSIVE TITRATION CALCULATION:

PART A: MOLARITY OF HCl SOLUTION (6 marks)

STEP 1: Write the balanced equation (1 mark)
NaOH(aq) + HCl(aq) ‚Üí NaCl(aq) + H‚ÇÇO(l)
‚Ä¢ 1:1 molar ratio between NaOH and HCl

STEP 2: Calculate moles of NaOH (2 marks)
Given: Volume = 25.0 cm¬≥ = 0.0250 dm¬≥, Molarity = 0.100 M
n(NaOH) = C √ó V = 0.100 mol/dm¬≥ √ó 0.0250 dm¬≥ = 0.00250 mol

STEP 3: Calculate moles of HCl (1 mark)
From balanced equation: n(HCl) = n(NaOH) = 0.00250 mol

STEP 4: Calculate molarity of HCl (2 marks)
Volume of HCl = 20.0 cm¬≥ = 0.0200 dm¬≥
C(HCl) = n/V = 0.00250 mol √∑ 0.0200 dm¬≥ = 0.125 M

PART B: MASS OF NaCl FORMED (3 marks)

STEP 5: Calculate moles of NaCl formed (1 mark)
From equation: n(NaCl) = n(NaOH) = 0.00250 mol

STEP 6: Calculate molar mass of NaCl (1 mark)
M(NaCl) = 23.0 + 35.5 = 58.5 g/mol

STEP 7: Calculate mass of NaCl (1 mark)
m = n √ó M = 0.00250 mol √ó 58.5 g/mol = 0.146 g

PART C: pH AT EQUIVALENCE POINT (3 marks)

STEP 8: Identify salt type (1 mark)
NaCl = salt of strong acid (HCl) + strong base (NaOH)

STEP 9: Analyze hydrolysis (1 mark)
‚Ä¢ Na‚Å∫ ions: too weak to hydrolyze (conjugate acid of strong base)
‚Ä¢ Cl‚Åª ions: too weak to hydrolyze (conjugate base of strong acid)
‚Ä¢ No hydrolysis occurs

STEP 10: Determine pH (1 mark)
Since no hydrolysis: pH = 7.00 at 25¬∞C

FINAL ANSWERS:
(a) [HCl] = 0.125 M
(b) Mass of NaCl = 0.146 g  
(c) pH = 7.00`
        },
        {
          id: 102,
          topic: 'equilibrium',
          question: "For the equilibrium system: 2SO‚ÇÇ(g) + O‚ÇÇ(g) ‚áå 2SO‚ÇÉ(g) + 196 kJ. Explain how each of the following changes will affect the equilibrium position: (a) increasing temperature, (b) increasing pressure, (c) adding a catalyst, (d) removing SO‚ÇÉ from the system.",
          points: 16,
          markingScheme: [
            "Effect of temperature increase (4 marks)",
            "Effect of pressure increase (4 marks)",
            "Effect of adding catalyst (4 marks)",
            "Effect of removing SO‚ÇÉ (4 marks)"
          ],
          stepByStepAnswer: `COMPREHENSIVE EQUILIBRIUM ANALYSIS:

GIVEN REACTION: 2SO‚ÇÇ(g) + O‚ÇÇ(g) ‚áå 2SO‚ÇÉ(g) + 196 kJ

PART A: EFFECT OF INCREASING TEMPERATURE (4 marks)

STEP 1: Identify reaction type
‚Ä¢ Heat appears on product side (+ 196 kJ)
‚Ä¢ This is an EXOTHERMIC reaction (ŒîH < 0)

STEP 2: Apply Le Ch√¢telier's Principle
‚Ä¢ Increasing temperature = adding heat to system
‚Ä¢ System will shift to counteract this disturbance
‚Ä¢ System shifts to consume excess heat

STEP 3: Determine direction of shift
‚Ä¢ Heat acts like a "product"
‚Ä¢ Adding heat shifts equilibrium AWAY from products
‚Ä¢ Equilibrium shifts LEFT (toward reactants)

STEP 4: Result
‚Ä¢ More SO‚ÇÇ and O‚ÇÇ formed
‚Ä¢ Less SO‚ÇÉ formed
‚Ä¢ Equilibrium position shifts left

PART B: EFFECT OF INCREASING PRESSURE (4 marks)

STEP 1: Count gas molecules on each side
Left side: 2SO‚ÇÇ + 1O‚ÇÇ = 3 gas molecules
Right side: 2SO‚ÇÉ = 2 gas molecules

STEP 2: Apply Le Ch√¢telier's Principle
‚Ä¢ Increasing pressure = system under stress
‚Ä¢ System shifts to reduce pressure
‚Ä¢ Favors side with FEWER gas molecules

STEP 3: Determine direction of shift
‚Ä¢ Right side has fewer molecules (2 vs 3)
‚Ä¢ Equilibrium shifts RIGHT (toward products)

STEP 4: Result
‚Ä¢ More SO‚ÇÉ formed
‚Ä¢ Less SO‚ÇÇ and O‚ÇÇ present
‚Ä¢ Equilibrium position shifts right

PART C: EFFECT OF ADDING CATALYST (4 marks)

STEP 1: Define catalyst function
‚Ä¢ Catalyst lowers activation energy
‚Ä¢ Increases rate of both forward AND reverse reactions
‚Ä¢ Does NOT affect equilibrium position

STEP 2: Effect on reaction rates
‚Ä¢ Forward reaction rate increases
‚Ä¢ Reverse reaction rate increases equally
‚Ä¢ Equilibrium reached faster

STEP 3: Effect on equilibrium position
‚Ä¢ NO CHANGE in equilibrium position
‚Ä¢ Same amounts of reactants and products at equilibrium
‚Ä¢ Only affects TIME to reach equilibrium

STEP 4: Result
‚Ä¢ Equilibrium position: NO CHANGE
‚Ä¢ Time to reach equilibrium: DECREASES

PART D: EFFECT OF REMOVING SO‚ÇÉ (4 marks)

STEP 1: Identify the disturbance
‚Ä¢ SO‚ÇÉ is a product
‚Ä¢ Removing SO‚ÇÉ decreases [SO‚ÇÉ]

STEP 2: Apply Le Ch√¢telier's Principle
‚Ä¢ System shifts to counteract disturbance
‚Ä¢ System shifts to replace removed SO‚ÇÉ
‚Ä¢ Equilibrium shifts toward products

STEP 3: Determine direction of shift
‚Ä¢ Equilibrium shifts RIGHT
‚Ä¢ More SO‚ÇÇ and O‚ÇÇ react to form SO‚ÇÉ

STEP 4: Result
‚Ä¢ More SO‚ÇÉ produced (to replace what was removed)
‚Ä¢ Less SO‚ÇÇ and O‚ÇÇ present
‚Ä¢ Equilibrium position shifts right

SUMMARY TABLE:
Change          | Direction | Reason
Temperature ‚Üë   | Left      | Exothermic reaction
Pressure ‚Üë      | Right     | Fewer gas molecules
Catalyst added  | No change | Affects rate only
SO‚ÇÉ removed     | Right     | Replace removed product`
        }
      ]
    };

    // Shuffle array function
    function shuffleArray(array) {
      const shuffled = [...array];
      for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
      }
      return shuffled;
    }

    // Show/Hide memo function
    function toggleMemo(questionId) {
      const memoSection = document.getElementById(`memo-${questionId}`);
      const memoBtn = document.getElementById(`memo-btn-${questionId}`);
      
      if (memoSection.classList.contains('show')) {
        memoSection.classList.remove('show');
        memoBtn.textContent = 'üìñ Show Memo & Steps';
      } else {
        memoSection.classList.add('show');
        memoBtn.textContent = 'üìñ Hide Memo';
      }
    }

    // Reshuffle practice questions
    function reshufflePracticeQuestions() {
      loadPracticeQuestions();
    }

    // Load practice questions with shuffling
    function loadPracticeQuestions() {
      const container = document.getElementById('practice-questions');
      let allQuestions = [...questionBank.mcq, ...questionBank.longQuestions];
      
      // Shuffle all questions
      allQuestions = shuffleArray(allQuestions);
      
      let filteredQuestions = allQuestions;
      if (currentFilter !== 'all') {
        filteredQuestions = allQuestions.filter(q => q.topic === currentFilter);
      }
      
      currentQuestions = filteredQuestions;
      currentAnswers = {};
      
      container.innerHTML = filteredQuestions.map((q, index) => {
        if (q.options) {
          // MCQ
          return `
            <div class="question-card" data-topic="${q.topic}">
              <div class="question-number">Question ${index + 1} (MCQ)</div>
              <div class="question-text">${q.question}</div>
              <div class="options">
                ${q.options.map((option, i) => `
                  <div class="option" onclick="selectOption(${index}, ${i})" data-option="${i}">
                    ${String.fromCharCode(65 + i)}. ${option}
                  </div>
                `).join('')}
              </div>
              <button id="memo-btn-${q.id}" class="btn btn-memo" onclick="toggleMemo(${q.id})">
                üìñ Show Memo & Steps
              </button>
              <div id="memo-${q.id}" class="memo-section">
                <div class="memo-title">
                  üéØ Step-by-Step Solution & Explanation
                </div>
                <div class="memo-content">${q.explanation}</div>
                <div class="correct-answer">
                  ‚úÖ Correct Answer: ${q.options[q.correct]}
                </div>
              </div>
            </div>
          `;
        } else {
          // Long question
          return `
            <div class="question-card" data-topic="${q.topic}">
              <div class="question-number">Question ${index + 1} (Long Answer - ${q.points} marks)</div>
              <div class="question-text">${q.question}</div>
              <div style="margin-top: 15px;">
                <strong>Marking Scheme:</strong>
                <ul style="margin-top: 10px; padding-left: 20px;">
                  ${q.markingScheme.map(point => `<li>${point}</li>`).join('')}
                </ul>
              </div>
              <button id="memo-btn-${q.id}" class="btn btn-memo" onclick="toggleMemo(${q.id})">
                üìñ Show Complete Answer & Steps
              </button>
              <div id="memo-${q.id}" class="memo-section">
                <div class="memo-title">
                  üéØ Complete Step-by-Step Answer (${q.points} marks)
                </div>
                <div class="step-by-step">
                  <div class="memo-content">${q.stepByStepAnswer}</div>
                </div>
              </div>
            </div>
          `;
        }
      }).join('');
      
      document.getElementById('practice-score').style.display = 'none';
    }

    // Load MCQ questions with shuffling
    function loadMCQQuestions() {
      let filteredQuestions = [...questionBank.mcq];
      if (currentFilter !== 'all') {
        filteredQuestions = questionBank.mcq.filter(q => q.topic === currentFilter);
      }
      
      // Shuffle questions
      filteredQuestions = shuffleArray(filteredQuestions);
      
      currentQuestions = filteredQuestions.slice(0, mcqDisplayCount);
      currentAnswers = {};
      
      displayMCQQuestions();
    }

    function displayMCQQuestions() {
      const container = document.getElementById('mcq-questions');
      
      container.innerHTML = currentQuestions.map((q, index) => `
        <div class="question-card" data-topic="${q.topic}">
          <div class="question-number">Question ${index + 1}</div>
          <div class="question-text">${q.question}</div>
          <div class="options">
            ${q.options.map((option, i) => `
              <div class="option" onclick="selectMCQOption(${index}, ${i})" data-option="${i}">
                ${String.fromCharCode(65 + i)}. ${option}
              </div>
            `).join('')}
          </div>
          <button id="memo-btn-${q.id}" class="btn btn-memo" onclick="toggleMemo(${q.id})">
            üìñ Show Memo & Steps
          </button>
          <div id="memo-${q.id}" class="memo-section">
            <div class="memo-title">
              üéØ Step-by-Step Solution & Explanation
            </div>
            <div class="memo-content">${q.explanation}</div>
            <div class="correct-answer">
              ‚úÖ Correct Answer: ${q.options[q.correct]}
            </div>
          </div>
        </div>
      `).join('');
      
      document.getElementById('mcq-score').style.display = 'none';
    }

    // Select option for practice questions
    function selectOption(questionIndex, optionIndex) {
      const question = currentQuestions[questionIndex];
      if (!question.options) return; // Skip long questions
      
      currentAnswers[questionIndex] = optionIndex;
      
      // Update UI
      const questionCard = document.querySelectorAll('#practice-questions .question-card')[questionIndex];
      const options = questionCard.querySelectorAll('.option');
      
      options.forEach((opt, i) => {
        opt.classList.remove('selected', 'correct', 'incorrect');
        if (i === optionIndex) {
          opt.classList.add('selected');
        }
      });
      
      // Show result after selection
      setTimeout(() => {
        options.forEach((opt, i) => {
          if (i === question.correct) {
            opt.classList.add('correct');
          } else if (i === optionIndex && i !== question.correct) {
            opt.classList.add('incorrect');
          }
        });
        
        updatePracticeScore();
      }, 500);
    }

    // Select option for MCQ questions
    function selectMCQOption(questionIndex, optionIndex) {
      const question = currentQuestions[questionIndex];
      currentAnswers[questionIndex] = optionIndex;
      
      // Update UI
      const questionCard = document.querySelectorAll('#mcq-questions .question-card')[questionIndex];
      const options = questionCard.querySelectorAll('.option');
      
      options.forEach((opt, i) => {
        opt.classList.remove('selected', 'correct', 'incorrect');
        if (i === optionIndex) {
          opt.classList.add('selected');
        }
      });
      
      // Show result after selection
      setTimeout(() => {
        options.forEach((opt, i) => {
          if (i === question.correct) {
            opt.classList.add('correct');
          } else if (i === optionIndex && i !== question.correct) {
            opt.classList.add('incorrect');
          }
        });
        
        updateMCQScore();
      }, 500);
    }

    // Update practice score
    function updatePracticeScore() {
      const mcqQuestions = currentQuestions.filter(q => q.options);
      const answered = Object.keys(currentAnswers).length;
      const correct = Object.entries(currentAnswers).filter(([index, answer]) => {
        const question = currentQuestions[index];
        return question.options && answer === question.correct;
      }).length;
      
      if (answered > 0) {
        const scoreElement = document.getElementById('practice-score');
        scoreElement.innerHTML = `üéØ Score: ${correct}/${answered} MCQs answered correctly (${Math.round(correct/answered*100)}%) - Keep practicing, Mpumi!`;
        scoreElement.style.display = 'block';
      }
    }

    // Update MCQ score
    function updateMCQScore() {
      const answered = Object.keys(currentAnswers).length;
      const correct = Object.entries(currentAnswers).filter(([index, answer]) => {
        return answer === currentQuestions[index].correct;
      }).length;
      
      if (answered > 0) {
        const scoreElement = document.getElementById('mcq-score');
        scoreElement.innerHTML = `üéØ Score: ${correct}/${answered} correct (${Math.round(correct/answered*100)}%) - Great work, Mpumi!`;
        scoreElement.style.display = 'block';
      }
    }

    // Filter functions
    function filterQuestions(topic) {
      currentFilter = topic;
      
      // Update active filter button
      document.querySelectorAll('#practice-page .filter-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      event.target.classList.add('active');
      
      loadPracticeQuestions();
    }

    function filterMCQ(topic) {
      currentFilter = topic;
      mcqDisplayCount = 5; // Reset display count
      
      // Update active filter button
      document.querySelectorAll('#mcq-page .filter-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      event.target.classList.add('active');
      
      loadMCQQuestions();
    }

    // MCQ utility functions
    function shuffleMCQ() {
      loadMCQQuestions();
    }

    function loadMoreMCQ() {
      let filteredQuestions = [...questionBank.mcq];
      if (currentFilter !== 'all') {
        filteredQuestions = questionBank.mcq.filter(q => q.topic === currentFilter);
      }
      
      // Shuffle questions
      filteredQuestions = shuffleArray(filteredQuestions);
      
      mcqDisplayCount = Math.min(mcqDisplayCount + 5, filteredQuestions.length);
      currentQuestions = filteredQuestions.slice(0, mcqDisplayCount);
      
      displayMCQQuestions();
    }

    // Mock exam functions
    function reshuffleMockExam() {
      // Reset exam state
      document.getElementById('exam-questions').innerHTML = '';
      document.getElementById('exam-score').style.display = 'none';
      document.getElementById('exam-memo-section').classList.remove('show');
      currentExamQuestions = [];
      currentAnswers = {};
      
      // Clear timer if running
      if (examTimer) {
        clearInterval(examTimer);
        examTimer = null;
        document.getElementById('timer').style.display = 'none';
      }
    }

    function startMockExam() {
      // Select random questions for exam
      const shuffledMCQ = shuffleArray([...questionBank.mcq]);
      const shuffledLong = shuffleArray([...questionBank.longQuestions]);
      
      const examMCQ = shuffledMCQ.slice(0, 8);
      const examLong = shuffledLong.slice(0, 2);
      
      currentExamQuestions = [...examMCQ, ...examLong];
      currentAnswers = {};
      
      // Start timer (180 minutes)
      startTimer(180 * 60);
      
      // Display questions
      const container = document.getElementById('exam-questions');
      container.innerHTML = currentExamQuestions.map((q, index) => {
        if (q.options) {
          return `
            <div class="question-card">
              <div class="question-number">Question ${index + 1} (MCQ - 2 marks)</div>
              <div class="question-text">${q.question}</div>
              <div class="options">
                ${q.options.map((option, i) => `
                  <div class="option" onclick="selectExamOption(${index}, ${i})" data-option="${i}">
                    ${String.fromCharCode(65 + i)}. ${option}
                  </div>
                `).join('')}
              </div>
            </div>
          `;
        } else {
          return `
            <div class="question-card">
              <div class="question-number">Question ${index + 1} (Long Answer - ${q.points} marks)</div>
              <div class="question-text">${q.question}</div>
              <textarea placeholder="Write your detailed answer here..." style="width: 100%; min-height: 200px; margin-top: 15px; padding: 15px; border: 2px solid #e2e8f0; border-radius: 8px; font-family: inherit; font-size: 14px;"></textarea>
            </div>
          `;
        }
      }).join('');
      
      // Add submit button
      container.innerHTML += `
        <div style="text-align: center; margin-top: 30px;">
          <button class="btn btn-primary" onclick="submitExam()">üìù Submit Exam</button>
        </div>
      `;
      
      document.getElementById('exam-score').style.display = 'none';
      document.getElementById('exam-memo-section').classList.remove('show');
    }

    function selectExamOption(questionIndex, optionIndex) {
      currentAnswers[questionIndex] = optionIndex;
      
      const questionCard = document.querySelectorAll('#exam-questions .question-card')[questionIndex];
      const options = questionCard.querySelectorAll('.option');
      
      options.forEach(opt => opt.classList.remove('selected'));
      options[optionIndex].classList.add('selected');
    }

    function submitExam() {
      if (examTimer) {
        clearInterval(examTimer);
        examTimer = null;
      }
      
      // Calculate score for MCQ questions only
      const mcqQuestions = currentExamQuestions.filter(q => q.options);
      const mcqAnswered = Object.entries(currentAnswers).filter(([index]) => {
        return currentExamQuestions[index].options;
      });
      
      const correct = mcqAnswered.filter(([index, answer]) => {
        return answer === currentExamQuestions[index].correct;
      }).length;
      
      const totalMCQ = mcqQuestions.length;
      const mcqScore = correct * 2; // 2 marks per MCQ
      const longQuestionMarks = currentExamQuestions.filter(q => !q.options).reduce((sum, q) => sum + q.points, 0);
      
      document.getElementById('exam-score').innerHTML = `
        <h3>üéâ Exam Completed, Mpumi!</h3>
        <p><strong>MCQ Score:</strong> ${mcqScore}/${totalMCQ * 2} marks (${correct}/${totalMCQ} correct)</p>
        <p><strong>Long Questions:</strong> ${longQuestionMarks} marks (to be marked manually)</p>
        <p><strong>Total Possible:</strong> ${totalMCQ * 2 + longQuestionMarks} marks</p>
        <p style="margin-top: 15px; color: #2d3748;">Great effort! Review the questions you got wrong and keep practicing. You're doing amazing! üí™</p>
        <div style="text-align: center; margin-top: 20px;">
          <button class="btn btn-memo" onclick="showExamMemo()">üìö Show Complete Solutions & Explanations</button>
        </div>
      `;
      document.getElementById('exam-score').style.display = 'block';
      document.getElementById('timer').style.display = 'none';
    }

    function showExamMemo() {
      const memoContent = document.getElementById('exam-memo-content');
      
      let memoHTML = '';
      
      currentExamQuestions.forEach((q, index) => {
        if (q.options) {
          // MCQ with step-by-step explanation
          const userAnswer = currentAnswers[index];
          const isCorrect = userAnswer === q.correct;
          
          memoHTML += `
            <div class="exam-question-memo">
              <h4>Question ${index + 1} (MCQ) - ${isCorrect ? '‚úÖ Correct' : '‚ùå Incorrect'}</h4>
              <p><strong>Question:</strong> ${q.question}</p>
              <p><strong>Your Answer:</strong> ${userAnswer !== undefined ? String.fromCharCode(65 + userAnswer) + '. ' + q.options[userAnswer] : 'Not answered'}</p>
              <p><strong>Correct Answer:</strong> ${String.fromCharCode(65 + q.correct)}. ${q.options[q.correct]}</p>
              <div style="margin-top: 10px; padding: 10px; background: #f0f4ff; border-radius: 6px;">
                <strong>Step-by-Step Explanation:</strong>
                <div style="white-space: pre-line; margin-top: 5px; font-size: 14px;">${q.explanation}</div>
              </div>
            </div>
          `;
        } else {
          // Long question with complete solution
          memoHTML += `
            <div class="exam-question-memo">
              <h4>Question ${index + 1} (Long Answer - ${q.points} marks)</h4>
              <p><strong>Question:</strong> ${q.question}</p>
              <div style="margin-top: 10px;">
                <strong>Marking Scheme:</strong>
                <ul style="margin-top: 5px; padding-left: 20px;">
                  ${q.markingScheme.map(point => `<li>${point}</li>`).join('')}
                </ul>
              </div>
              <div style="margin-top: 15px; padding: 15px; background: #f0fff4; border-radius: 6px; border-left: 3px solid #48bb78;">
                <strong>Complete Model Answer:</strong>
                <div style="white-space: pre-line; margin-top: 10px; font-size: 14px;">${q.stepByStepAnswer}</div>
              </div>
            </div>
          `;
        }
      });
      
      memoContent.innerHTML = memoHTML;
      document.getElementById('exam-memo-section').classList.add('show');
    }

    // Timer functions
    function startTimer(seconds) {
      let timeLeft = seconds;
      const timerElement = document.getElementById('timer');
      const timeDisplay = document.getElementById('time-display');
      
      timerElement.style.display = 'block';
      
      examTimer = setInterval(() => {
        const hours = Math.floor(timeLeft / 3600);
        const minutes = Math.floor((timeLeft % 3600) / 60);
        const secs = timeLeft % 60;
        
        timeDisplay.textContent = `${hours}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        
        if (timeLeft <= 0) {
          clearInterval(examTimer);
          examTimer = null;
          submitExam();
          alert('‚è∞ Time\'s up! Your exam has been automatically submitted. Great job, Mpumi!');
        }
        
        timeLeft--;
      }, 1000);
    }

    // Initialize the app
    document.addEventListener('DOMContentLoaded', function() {
      // Show main page by default
      showPage('main-page');
    });
  </script>
</body>

</html>
